# Tasks: Contract Testing

> **状态**：未开始  
> **预估工作量**：4-6 天  
> **最后更新**：2026-02-26

## 进度概览

- **总任务数**：16
- **已完成**：0
- **进行中**：0
- **未开始**：16

## 1. 目录与基线

- [ ] 1.1 建立 `tests/contracts/api`
- [ ] 1.2 建立 `tests/contracts/mcp`
- [ ] 1.3 建立 `scripts/contract_diff`

## 2. API 契约检测

- [ ] 2.1 接入 OpenAPI diff
- [ ] 2.2 定义 breaking 规则映射
- [ ] 2.3 CI 接入 PR 阶段门禁

## 3. MCP 契约回归

- [ ] 3.1 initialize 回归用例
- [ ] 3.2 tools/list/call 回归用例
- [ ] 3.3 resources/list/read 回归用例
- [ ] 3.4 错误语义回归用例

## 4. 对齐矩阵

- [ ] 4.1 新建 `API_MCP_ALIGNMENT_MATRIX.md`
- [ ] 4.2 填充能力与错误域映射
- [ ] 4.3 将矩阵变更纳入评审要求

## 5. 报告与演练

- [ ] 5.1 生成标准差异报告模板
- [ ] 5.2 执行一次 breaking 注入演练
- [ ] 5.3 更新 `SPEC_TASKS_SCAN` checkpoint

---

**维护者**：测试架构组  
**最后更新**：2026-02-26
