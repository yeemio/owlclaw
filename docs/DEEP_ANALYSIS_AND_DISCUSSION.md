# OwlClaw æ·±åº¦åˆ†æä¸è®¨è®ºè®°å½•

> **åˆ›å»ºæ—¶é—´**: 2026-02-10
> **å‚ä¸è€…**: yeemio + AI
> **ç›®çš„**: å®Œæ•´è®°å½•å¯¹ mionyee ç”Ÿæ€å››ä¸ªä»“åº“çš„æ·±åº¦ä»£ç åˆ†æã€é¡¹ç›®æ¼”è¿›å†ç¨‹ã€æ ¸å¿ƒé—®é¢˜è¯Šæ–­ã€ä»¥åŠ OwlClaw å®šä½è®¨è®ºã€‚é˜²æ­¢æœªæ¥é‡å¤è¯»ç ã€‚
> **çŠ¶æ€**: åˆç‰ˆï¼ˆåŸºäº 2026-02-10 çš„ä»£ç çŠ¶æ€ï¼‰

---

## ç›®å½•

1. [é¡¹ç›®æ¼”è¿›æ•…äº‹](#ä¸€é¡¹ç›®æ¼”è¿›æ•…äº‹)
2. [mionyee â€” ç”Ÿäº§ç¯å¢ƒç³»ç»Ÿæ·±åº¦åˆ†æ](#äºŒmionyee--ç”Ÿäº§ç¯å¢ƒç³»ç»Ÿæ·±åº¦åˆ†æ)
3. [mionyee-platform â€” èƒ½åŠ›å¹³å°æ·±åº¦åˆ†æ](#ä¸‰mionyee-platform--èƒ½åŠ›å¹³å°æ·±åº¦åˆ†æ)
4. [mionyee-agent â€” è‡ªä¸»è¿è¡Œæ—¶æ·±åº¦åˆ†æ](#å››mionyee-agent--è‡ªä¸»è¿è¡Œæ—¶æ·±åº¦åˆ†æ)
5. [æ ¸å¿ƒé—®é¢˜è¯Šæ–­ï¼šä» Cron åˆ°è‡ªä¸»](#äº”æ ¸å¿ƒé—®é¢˜è¯Šæ–­ä»-cron-åˆ°è‡ªä¸»)
6. [OwlClaw å®šä½è®¨è®ºä¸ç»“è®º](#å…­owlclaw-å®šä½è®¨è®ºä¸ç»“è®º)
7. [å…³é”®ä»£ç ç´¢å¼•ï¼ˆé˜²æ­¢é‡å¤è¯»ç ï¼‰](#ä¸ƒå…³é”®ä»£ç ç´¢å¼•é˜²æ­¢é‡å¤è¯»ç )
8. [å†å²è®¨è®ºä¸­çš„å…³é”®çº å](#å…«å†å²è®¨è®ºä¸­çš„å…³é”®çº å)
9. [å¾…å†³äº‹é¡¹](#ä¹å¾…å†³äº‹é¡¹)

---

## ä¸€ã€é¡¹ç›®æ¼”è¿›æ•…äº‹

> ä»¥ä¸‹æ¥è‡ª yeemio çš„äº²è¿°ï¼Œç»“åˆä»£ç åˆ†æè¿˜åŸã€‚

### 1.1 èµ·ç‚¹ï¼šmionyeeï¼ˆPython DDD è‚¡ç¥¨åˆ†æç³»ç»Ÿï¼‰

mionyee æ˜¯æœ€åˆçš„æƒ³æ³•ï¼šåšä¸€ä¸ª**æ™ºèƒ½çš„è‚¡ç¥¨åˆ†æå·¥å…·**ã€‚é¡¹ç›®é‡‡ç”¨äº† DDDï¼ˆé¢†åŸŸé©±åŠ¨è®¾è®¡ï¼‰çš„åˆ†å±‚æ¶æ„ï¼Œè‡ªå·±å®ç°äº†å®Œæ•´çš„äº¤æ˜“åˆ†æä½“ç³»ã€‚

æ ¸å¿ƒè§„åˆ™æ–‡ä»¶ï¼š`D:\AI\mionyee\.cursor\rules\mionyee_core.mdc`

**å…³é”®ç‰¹å¾**ï¼š
- 1164ä¸ª Python æ–‡ä»¶
- å®Œæ•´çš„ DDD æ¶æ„ï¼šCoreï¼ˆAI/Trading/Knowledgeï¼‰ã€Supportingï¼ˆ16ä¸ªåŸŸï¼‰ã€Genericï¼ˆ6ä¸ªåŸŸï¼‰
- 48+ å®šæ—¶ä»»åŠ¡è¦†ç›–å…¨å¤©äº¤æ˜“ç”Ÿå‘½å‘¨æœŸ
- AIåšæ‰€æœ‰äº¤æ˜“å†³ç­–ï¼ˆç¦æ­¢ç¡¬ç¼–ç è§„åˆ™ï¼‰
- **å·²åœ¨ç”Ÿäº§ç¯å¢ƒè¿è¡Œ**

### 1.2 ç¬¬ä¸€æ¬¡è¿›åŒ–ï¼šmionyee-platformï¼ˆèƒ½åŠ›å¹³å°ï¼‰

åœ¨ä½¿ç”¨ mionyee è¿‡ç¨‹ä¸­å‘ç°ï¼šè™½ç„¶ä¸šåŠ¡é€»è¾‘å’Œåœºæ™¯ä¸Šå¯è¡Œï¼Œä½†ç³»ç»Ÿæ˜¯**é å®šæ—¶ä»»åŠ¡é©±åŠ¨çš„** â€”â€” è¿™æ„å‘³ç€ä¸æ˜¯ AI åœ¨åšä¸»åŠ¨å†³ç­–ï¼Œè¿˜æ˜¯é äº‹å…ˆçš„è§„åˆ™ï¼ˆcron expressionï¼‰å»è§¦å‘å†³ç­–ã€‚

äºæ˜¯æƒ³åšä¸€ä¸ª Platform æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒåŒ…æ‹¬ï¼š
- **å¯ç»„åˆæ€§**ï¼ˆComposabilityï¼‰ï¼šèƒ½åŠ›å¯ä»¥è¢«çµæ´»ç»„åˆ
- **å¯è¯æ˜æ€§**ï¼ˆProvabilityï¼‰ï¼šæ¯ä¸ªå†³ç­–å¯è¿½æº¯
- **å¯è¿è¥æ€§**ï¼ˆOperabilityï¼‰ï¼šç³»ç»Ÿå¯ç›‘æ§å¯æ²»ç†

æ ¸å¿ƒç†å¿µï¼š**å¹³å°ä¸‰é‡å®šä¹‰**ï¼ˆä¸å¯é€€è®©ï¼‰

### 1.3 ç¬¬äºŒæ¬¡è¿›åŒ–ï¼šmionyee-agentï¼ˆè‡ªä¸»è¿è¡Œæ—¶ï¼‰

åœ¨åš platform çš„è¿‡ç¨‹ä¸­ï¼ŒMoltbotï¼ˆOpenClawï¼‰æ¨ªç©ºå‡ºä¸–ã€‚å®ƒå±•ç¤ºäº†ä¸€ç§**ä¸»åŠ¨å‹ã€è‡ªåŠ¨è¿›åŒ–**çš„AIåŠ©æ‰‹æ¨¡å¼ã€‚

äºæ˜¯äº§ç”Ÿäº†æ–°çš„æƒ³æ³•ï¼šæˆ‘ä»¬ä¹Ÿéœ€è¦ä¸€ä¸ªè¿™æ ·çš„è‡ªä¸»è¿è¡Œæ—¶æ¥å¸®åŠ©æ‰“é€ è‡ªå·±çš„ agentï¼ŒæœåŠ¡ mionyee çš„äº¤æ˜“åœºæ™¯ã€‚æ‰€ä»¥è¯ç”Ÿäº† mionyee-agentï¼ˆTypeScriptï¼‰ã€‚

**å…³é”®çº¦æŸ**ï¼ˆæ¥è‡ª `mionyee_agent_principles.mdc`ï¼‰ï¼š
- ä¸ä¾èµ– Moltbot â€”â€” å¯ä»¥å€Ÿé‰´å…¶è®¾è®¡ï¼Œä½†ä¸èƒ½æŠŠ Moltbot ä½œä¸ºç›´æ¥ä¾èµ–
- å¯ä»¥å¼•ç”¨ä¸Šæ¸¸ï¼ˆpi-mono çš„ pi-coding-agent / pi-agent-coreï¼‰
- æŠŠæ ¸å¿ƒåŠŸèƒ½æ‰“æ•£ååœ¨æœ¬ä»“åº“å†…é‡ç»„

### 1.4 å½“å‰å›°å¢ƒ

ä¸‰ä¸ªä»“åº“éƒ½æœ‰å®è´¨æ€§çš„ä»£ç å’Œå®ç°ï¼Œä½†ï¼š
- mionyee åœ¨ç”Ÿäº§ç¯å¢ƒè¿è¡Œï¼Œå—é™äº cron é©±åŠ¨
- mionyee-platform æä¾›äº†èƒ½åŠ›å±‚ï¼Œä½†æ²¡æœ‰çœŸæ­£æ›¿ä»£ mionyee å†…éƒ¨çš„ AI è°ƒç”¨
- mionyee-agent æœ‰äº†è¿è¡Œæ—¶åŸºç¡€è®¾æ–½ï¼Œä½†è¿˜æ²¡æœ‰æ¥ç®¡ mionyee çš„å†³ç­–å¾ªç¯
- OwlClaw æ˜¯ç¬¬ä¸€ä¸ªå…¬å¼€ä»“åº“çš„åå­—ï¼Œä½†å¼€æºä»€ä¹ˆè¿˜æ²¡å®š

### 1.5 è¡€æ³ªæ•™è®­

æ¥è‡ª `mionyee_agent_principles.mdc` å’Œ `mionyee_agent_trading.mdc`ï¼š

> **AI_DECISION_FIRSTï¼ˆğŸ”´ğŸ”´ğŸ”´ï¼‰**: æ‰€æœ‰äº¤æ˜“å†³ç­–å¿…é¡»ç”±AIæ¨¡å‹åšå‡ºï¼Œç¦æ­¢ç¡¬ç¼–ç è§„åˆ™ã€‚
> **è¡€çš„æ•™è®­ï¼ˆ2025-12-17ï¼‰**: å› ä¸ºç¡¬ç¼–ç ç®—æ³•å¯¼è‡´äº†è´¢åŠ¡æŸå¤±ã€‚

```python
# âœ… æ­£ç¡®
decision = await ai_service.get_trading_decision(symbol, ...)

# âŒ ä¸¥ç¦
if price_position >= 0.7:
    signal_type = "positive_t"  # ç¦æ­¢ï¼
```

---

## äºŒã€mionyee â€” ç”Ÿäº§ç¯å¢ƒç³»ç»Ÿæ·±åº¦åˆ†æ

### 2.1 ä»“åº“æ¦‚è§ˆ

| ç»´åº¦ | æ•°æ® |
|------|------|
| è·¯å¾„ | `D:\AI\mionyee` |
| è¯­è¨€ | Python (FastAPI + SQLAlchemy) |
| æ–‡ä»¶æ•° | 1164ä¸ª .py æ–‡ä»¶ |
| æ¶æ„ | DDD (Domain-Driven Design) |
| å…¥å£ | `applications/stock_analysis/api/app.py` |
| çŠ¶æ€ | **ç”Ÿäº§ç¯å¢ƒè¿è¡Œ** |

### 2.2 DDD ç›®å½•ç»“æ„

```
applications/stock_analysis/
â”œâ”€â”€ domains/
â”‚   â”œâ”€â”€ core/                          # æ ¸å¿ƒåŸŸï¼ˆä¸šåŠ¡å·®å¼‚åŒ–ï¼‰
â”‚   â”‚   â”œâ”€â”€ ai/                        # 28ä¸ªæœåŠ¡
â”‚   â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ decision/          # AIäº¤æ˜“å†³ç­–
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ai_auto_trading_service.py    # v13.1.0, 5359è¡Œ
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ t_trading_decision_service.py # T+0äº¤æ˜“å†³ç­–
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ strategy/          # ç­–ç•¥é€‰æ‹©
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ strategy_selection_service.py  # 3004è¡Œ
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ strategy_execution_monitor.py
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ai_strategy_generation_service.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ position/          # ä»“ä½ç®¡ç†
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ agent_position_decision_service.py
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ entry_execution_service.py
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ entry_monitor_service.py
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ budget_allocation_service.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ evaluation/        # è¯„ä¼°
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ market/            # å¸‚åœºçŠ¶æ€æ£€æµ‹
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ logging/           # AIè°ƒç”¨æ—¥å¿—
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ optimization/      # ç­–ç•¥ä¼˜åŒ–
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ validation/        # å›æµ‹éªŒè¯
â”‚   â”‚   â”‚   â””â”€â”€ models.py
â”‚   â”‚   â”œâ”€â”€ trading/                   # 40ä¸ªæœåŠ¡
â”‚   â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ t_trading/         # T+0äº¤æ˜“æ‰§è¡Œ
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ execution/         # æ³¢æ®µ/è¶‹åŠ¿æ‰§è¡Œ
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ backtest/          # 7ç§å›æµ‹å™¨
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ t_trading_backtester.py
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ swing_backtester.py
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ intraday_backtester.py
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ trend_following_backtester.py
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ mean_reversion_backtester.py
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ breakout_backtester.py
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ hold_strategy_backtester.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ review/            # å¤ç›˜ï¼ˆæ—¥/å‘¨/æœˆï¼‰
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ settlement/        # äº¤æ˜“ç»“ç®—
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ risk/              # é£é™©ç®¡ç†
â”‚   â”‚   â”‚   â””â”€â”€ models.py
â”‚   â”‚   â””â”€â”€ knowledge/                 # 9ä¸ªæœåŠ¡
â”‚   â”‚       â”œâ”€â”€ services/
â”‚   â”‚       â”‚   â”œâ”€â”€ generation/        # çŸ¥è¯†ç”Ÿæˆ
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ decision_knowledge_generator.py
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ trade_knowledge_generator.py
â”‚   â”‚       â”‚   â”‚   â””â”€â”€ evaluation_knowledge_generator.py
â”‚   â”‚       â”‚   â”œâ”€â”€ retrieval/         # çŸ¥è¯†æ£€ç´¢
â”‚   â”‚       â”‚   â””â”€â”€ touchpoint/        # è§¦ç‚¹çŸ¥è¯†ç”Ÿæˆ
â”‚   â”‚       â””â”€â”€ models.py
â”‚   â”œâ”€â”€ supporting/                    # æ”¯æ’‘åŸŸï¼ˆ16ä¸ªåŸŸï¼‰
â”‚   â”‚   â”œâ”€â”€ analysis/                  # åˆ†ææœåŠ¡
â”‚   â”‚   â”œâ”€â”€ strategy/                  # ç­–ç•¥ç®¡ç†
â”‚   â”‚   â”‚   â””â”€â”€ services/
â”‚   â”‚   â”‚       â”œâ”€â”€ classifier/        # è‚¡ç¥¨åˆ†ç±»å™¨
â”‚   â”‚   â”‚       â”œâ”€â”€ backtest/          # å›æµ‹æœåŠ¡
â”‚   â”‚   â”‚       â”œâ”€â”€ evaluation/        # ç­–ç•¥è¯„ä¼°
â”‚   â”‚   â”‚       â””â”€â”€ optimizer/         # ç­–ç•¥ä¼˜åŒ–
â”‚   â”‚   â”œâ”€â”€ data/                      # æ•°æ®æœåŠ¡ï¼ˆæ–°é—»ã€è¡Œæƒ…ç­‰ï¼‰
â”‚   â”‚   â”œâ”€â”€ holding/                   # æŒä»“ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ signal/                    # ä¿¡å·ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ plan/                      # è®¡åˆ’ç®¡ç†ï¼ˆPlan Lockï¼‰
â”‚   â”‚   â”œâ”€â”€ decision/                  # å†³ç­–è®°å½•
â”‚   â”‚   â”œâ”€â”€ evaluation/                # è¯„ä¼°æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ scoring/                   # è¯„åˆ†æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ market/                    # å¸‚åœºæ•°æ®
â”‚   â”‚   â”œâ”€â”€ stock/                     # è‚¡ç¥¨ä¿¡æ¯
â”‚   â”‚   â”œâ”€â”€ report/                    # æŠ¥å‘Šç”Ÿæˆ
â”‚   â”‚   â”œâ”€â”€ touchpoint/                # è§¦ç‚¹è®°å½•
â”‚   â”‚   â”œâ”€â”€ alert/                     # å‘Šè­¦æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ collision/                 # ç¢°æ’åˆ†æ
â”‚   â”‚   â””â”€â”€ system/                    # ç³»ç»ŸæœåŠ¡
â”‚   â””â”€â”€ generic/                       # é€šç”¨åŸŸï¼ˆ6ä¸ªåŸŸï¼‰
â”‚       â”œâ”€â”€ user/                      # ç”¨æˆ·ç®¡ç†
â”‚       â”œâ”€â”€ scheduler/                 # ğŸ”´ å®šæ—¶ä»»åŠ¡è°ƒåº¦ï¼ˆæ ¸å¿ƒç“¶é¢ˆæ‰€åœ¨ï¼‰
â”‚       â”‚   â””â”€â”€ services/
â”‚       â”‚       â”œâ”€â”€ scheduler_service.py      # APScheduler é›†æˆ
â”‚       â”‚       â””â”€â”€ task_handlers.py          # 3938è¡Œï¼Œ48+å®šæ—¶ä»»åŠ¡å®šä¹‰
â”‚       â”œâ”€â”€ calendar/                  # äº¤æ˜“æ—¥å†
â”‚       â”œâ”€â”€ growth/                    # æˆé•¿è®°å½•
â”‚       â”œâ”€â”€ indicator/                 # æŒ‡æ ‡è¾“å…¥
â”‚       â””â”€â”€ data_management/           # æ•°æ®ç®¡ç†
â”œâ”€â”€ api/                               # FastAPI è·¯ç”±
â”œâ”€â”€ data_sources/                      # æ•°æ®æºï¼ˆè¡Œæƒ…ã€Kçº¿ã€æ–°é—»ç­‰ï¼‰
â”œâ”€â”€ repositories/                      # æ•°æ®è®¿é—®å±‚
â”œâ”€â”€ scoring/                           # è¯„åˆ†ç³»ç»Ÿ
â”‚   â””â”€â”€ KnowledgeAwareDecisionMixin    # çŸ¥è¯†æ„ŸçŸ¥å†³ç­–æ··å…¥
â””â”€â”€ shared/                            # å…±äº«åŸºç¡€è®¾æ–½
    â”œâ”€â”€ container.py                   # æœåŠ¡å®¹å™¨
    â”œâ”€â”€ decorators.py
    â””â”€â”€ websocket.py                   # WebSocket æ¨é€
```

### 2.3 48ä¸ªå®šæ—¶ä»»åŠ¡ â€”â€” å®Œæ•´çš„äº¤æ˜“æ—¥ç”Ÿå‘½å‘¨æœŸ

è¿™æ˜¯ mionyee çš„**æ ¸å¿ƒè°ƒåº¦æ¶æ„**ï¼Œä¹Ÿæ˜¯"ä» cron åˆ°è‡ªä¸»"é—®é¢˜çš„æ ¸å¿ƒæ‰€åœ¨ã€‚

#### ç›˜å‰ï¼ˆ08:00-09:30ï¼‰

| æ—¶é—´ | ä»»åŠ¡ | è¯´æ˜ |
|------|------|------|
| 08:00 | `news_collection` | æ–°é—»æ”¶é›†ï¼ˆæŒä»“è‚¡ç¥¨ï¼Œç›˜å‰æ‰§è¡Œï¼‰ |
| 08:05 | `news_knowledgeization` | æ–°é—»çŸ¥è¯†åŒ–ï¼ˆç»“åˆè¡Œæƒ…å’Œæ–°é—»ï¼‰ |
| 09:25 | `auction_consistency_check` | é›†åˆç«ä»·ä¸€è‡´æ€§éªŒè¯ |
| 09:35 | `opening_direction_verify` | å¼€ç›˜æ–¹å‘éªŒè¯ |
| 09:40 | `morning_decision` | ç›˜å‰å†³ç­–ç”Ÿæˆ |
| 09:40 | `key_time_point_evaluation_09_40` | 09:40å…³é”®æ—¶é—´ç‚¹è¯„ä¼° |

#### ç›˜ä¸­é«˜é¢‘ï¼ˆ09:35-14:55ï¼‰

| é¢‘ç‡ | ä»»åŠ¡ | è¯´æ˜ |
|------|------|------|
| æ¯60ç§’ | `position_entry_monitor` | ä»“ä½å…¥åœºç›‘æ§ |
| æ¯60ç§’ | `t_trading_execution_monitor_minutely` | åšTç­–ç•¥æ‰§è¡Œç›‘æ§ |
| æ¯10åˆ†é’Ÿ | `non_t_execution_monitor_proximity` | éåšTç­–ç•¥é€¼è¿‘åŒºé—´ç›‘æ§ |
| æ¯10åˆ†é’Ÿ | `plan_divergence_check` | è®¡åˆ’åç¦»æ£€æµ‹ |
| æ¯10åˆ†é’Ÿ | `swing_price_alert` | æ³¢æ®µä»·æ ¼å‘Šè­¦ |
| æ¯30åˆ†é’Ÿ | `high_conviction_continuous_monitoring` | é«˜ç¡®ä¿¡è‚¡ç¥¨æŒç»­ç›‘æ§ |

#### ç›˜ä¸­å…³é”®æ—¶é—´ç‚¹

| æ—¶é—´ | ä»»åŠ¡ | è¯´æ˜ |
|------|------|------|
| 11:30 | `key_time_point_evaluation_11_30` | åˆç›˜è¯„ä¼° |
| 13:30 | `key_time_point_evaluation_13_30` | ä¸‹åˆå¼€ç›˜è¯„ä¼° |
| 14:30 | `key_time_point_evaluation_14_30` | å°¾ç›˜å‰è¯„ä¼° |

#### ç›˜åæ•°æ®å¤„ç†ï¼ˆ15:00-16:00ï¼‰

| æ—¶é—´ | ä»»åŠ¡ | è¯´æ˜ |
|------|------|------|
| 15:10 | `fetch_kline_after_close` | æ”¶ç›˜åKçº¿æ‹‰å– |
| 15:12 | `fetch_market_index_kline` | å¤§ç›˜Kçº¿æ‹‰å– |
| 15:15 | `touchpoint_evaluation` | è§¦ç‚¹äº‹ä»¶è¯„ä¼° |
| 15:20 | `calculate_technical_indicators` | æŠ€æœ¯æŒ‡æ ‡è®¡ç®— |
| 15:30 | `post_market_signal_scan` | ç›˜åä¿¡å·æ‰«æ |
| 15:30 | `agent_watchlist_evaluation` | Agentè§‚å¯Ÿæ± è¯„ä¼° |
| 15:35 | `classification_daily_update` | è‚¡ç¥¨åˆ†ç±»æ›´æ–° |
| 15:35 | `dimension_verification` | ç»´åº¦é¢„æµ‹éªŒè¯ |
| 15:40 | `agent_recommendation_check` | Agentæ¨èç”Ÿæˆ |
| 15:50 | `plan_lock_active_sync` | Plan Lockä½é¢‘åŒæ­¥ |
| 15:55 | `non_t_execution_monitor_daily` | éåšTç­–ç•¥æ—¥çº§ç›‘æ§ |
| 16:10 | `decision_quality_report` | å†³ç­–è´¨é‡è¯„æµ‹æŠ¥å‘Š |

#### æ™šé—´çŸ¥è¯†è’¸é¦é“¾ï¼ˆ22:00-23:05ï¼‰

| æ—¶é—´ | ä»»åŠ¡ | è¯´æ˜ |
|------|------|------|
| 22:00 | `evening_analysis` | ç›˜åæ€»ç»“ç”Ÿæˆ |
| 22:00 | `final_daily_review` | æœ€ç»ˆå®šç‰ˆå¤ç›˜ï¼ˆä¸ºç¬¬äºŒå¤©æä¾›ä¾æ®ï¼‰ |
| 22:00(å‘¨äº”) | `auto_weekly_review` | è‡ªåŠ¨å‘¨å¤ç›˜ |
| - | `auto_monthly_review` | è‡ªåŠ¨æœˆå¤ç›˜ï¼ˆæ¯æœˆæœ€åä¸€ä¸ªäº¤æ˜“æ—¥ï¼‰ |
| 22:20 | `decision_snapshot_evaluation` | å†³ç­–å¿«ç…§è¯„ä¼°ï¼ˆpendingâ†’evaluatedï¼‰ |
| 22:30 | `touchpoint_knowledge_generation` | è§¦ç‚¹çŸ¥è¯†ç”Ÿæˆ |
| 22:30 | `chromadb_backup` | ChromaDBå¤‡ä»½ |
| 22:30 | `data_consistency_check` | æ•°æ®ä¸€è‡´æ€§æ£€æŸ¥ |
| 22:35 | `decision_knowledge_generation` | å†³ç­–çŸ¥è¯†ç”Ÿæˆ |
| 22:35 | `knowledge_feedback` | çŸ¥è¯†åé¦ˆå¾ªç¯ |
| 22:40 | `trade_knowledge_generation` | äº¤æ˜“çŸ¥è¯†ç”Ÿæˆ |
| 22:45 | `evaluation_knowledge_generation` | è¯„ä¼°çŸ¥è¯†ç”Ÿæˆ |
| 22:45 | `knowledge_scoring` | çŸ¥è¯†åº“è¯„åˆ†éªŒè¯ |
| 23:05 | `platform_maturity_validation` | å¹³å°æˆç†Ÿåº¦éªŒè¯ |

#### ä½é¢‘ç»´æŠ¤ä»»åŠ¡

| é¢‘ç‡ | ä»»åŠ¡ | è¯´æ˜ |
|------|------|------|
| æ¯å‘¨æ—¥22:50 | `knowledge_validation` | çŸ¥è¯†éªŒè¯ |
| æ¯æœˆ1æ—¥00:00 | `knowledge_decay` | çŸ¥è¯†è¡°å‡ |
| æ¯å°æ—¶ | `strategy_expiry_check` | ç­–ç•¥è¿‡æœŸæ£€æŸ¥ |
| æ¯30åˆ†é’Ÿ | `alert_check` | å‘Šè­¦æ£€æŸ¥ |
| æ¯å¤© | `knowledge_maintenance` | çŸ¥è¯†åº“ç»´æŠ¤ |
| æ¯å°æ—¶ | `sync_trading_to_display_layer` | äº¤æ˜“å±‚â†’æ˜¾ç¤ºå±‚åŒæ­¥ |

#### å·²åœç”¨çš„é—ç•™ä»»åŠ¡

```python
LEGACY_DISABLED_TASK_NAMES = {
    "ai_auto_trading",
    "ai_auto_trading_complete",
    "ai_auto_trading_daily_reset",
    "ai_auto_trade_evaluation",
    "scheduled_holdings_scan",
    "t_discipline_monitor",
}
```

æ³¨é‡Šè¯´æ˜ï¼šè¿™äº›å±äº"ç”¨æˆ·æŒä»“"çš„æ—§ç‰ˆAIè‡ªåŠ¨äº¤æ˜“é“¾è·¯ï¼Œå·²è¿ç§»è‡³ Agent æŒä»“ç­–ç•¥æ‰§è¡Œé—­ç¯ï¼ˆagent_holdingsï¼‰ã€‚

### 2.4 æ ¸å¿ƒæœåŠ¡è¯¦è§£

#### 2.4.1 AIAutoTradingServiceï¼ˆv13.1.0ï¼Œ5359è¡Œï¼‰

**æ–‡ä»¶**: `domains/core/ai/services/decision/ai_auto_trading_service.py`

**æ ¸å¿ƒç†å¿µ**:
```
ä¸åªæ˜¯"æé†’"ç”¨æˆ·ï¼Œè€Œæ˜¯"è‡ªåŠ¨æ‰§è¡Œæ¨¡æ‹Ÿäº¤æ˜“"
æ— è®ºç”¨æˆ·æ˜¯å¦æ“ä½œï¼Œéƒ½æœ‰æ•°æ®ç§¯ç´¯
AIå¯ä»¥äº‹åéªŒè¯è‡ªå·±çš„å†³ç­–å‡†ç¡®ç‡
```

**æ ¸å¿ƒåŠŸèƒ½**:
1. æ£€æµ‹é»„é‡‘æ‰§è¡Œç‚¹ â†’ è‡ªåŠ¨åˆ›å»ºæ¨¡æ‹ŸåšT
2. ç›‘æ§æ¨¡æ‹ŸåšT â†’ è‡ªåŠ¨å®Œæˆ
3. æ¨é€é€šçŸ¥ç»™ç”¨æˆ· â†’ ç”¨æˆ·å¯é€‰æ‹©è·Ÿéš

**å…³é”®å®ç°ç»†èŠ‚**:

- **DecisionSource æšä¸¾**: `AI_AUTO_EXECUTE` / `USER_FOLLOW` / `USER_MANUAL` / `LOCKED_PLAN`
- **äº¤æ˜“æ—¶é—´æ§åˆ¶**: 09:35-14:55ï¼ˆå¼€ç›˜å5åˆ†é’Ÿå¼€å§‹ï¼Œå°¾ç›˜å‰5åˆ†é’Ÿåœæ­¢ï¼‰
- **æ¯æ—¥é™åˆ¶**: æ¯è‚¡æ¯ç­–ç•¥æœ€å¤š1æ¬¡
- **AIè°ƒç”¨å†·å´**: åŒä¸€è‚¡ç¥¨10åˆ†é’Ÿå†…åªè°ƒç”¨ä¸€æ¬¡AIï¼ˆé¿å…æ¯60ç§’å®šæ—¶å™¨éƒ½è§¦å‘AIï¼‰
- **åŠ¨æ€é˜ˆå€¼**: é€šè¿‡ `ThresholdManager` ç®¡ç†é»„é‡‘æ‰§è¡Œç‚¹é˜ˆå€¼ï¼ˆscore_high=70, score_medium=60, score_low=50ï¼‰
- **çŸ¥è¯†æ„ŸçŸ¥**: ç»§æ‰¿ `KnowledgeAwareDecisionMixin`ï¼ŒçŸ¥è¯†è¯„åˆ†å½±å“å†³ç­–
- **ä»·æ ¼ç¼“å­˜**: åŒä»·ä½å‘½ä¸­ç¼“å­˜ä¸é‡å¤è°ƒç”¨AI

**å†·å´æœºåˆ¶ä»£ç é€»è¾‘**ï¼ˆé‡è¦ï¼Œä½“ç°äº†"è¢«åŠ¨è§¦å‘"çš„æœ¬è´¨é—®é¢˜ï¼‰:
```python
def _should_call_ai(self, symbol: str, in_zone: bool, current_price=None):
    """
    å†·å´æœºåˆ¶ï¼š
    1. é¦–æ¬¡è¿›å…¥åŒºé—´ â†’ è°ƒç”¨AI
    2. å·²åœ¨åŒºé—´å†…ä¸”åœ¨å†·å´æœŸ â†’ ä½¿ç”¨ç¼“å­˜ç»“æœ
    3. å†·å´æœŸè¿‡å â†’ é‡æ–°è°ƒç”¨AI
    4. ç¦»å¼€åŒºé—´åé‡æ–°è¿›å…¥ â†’ é‡æ–°è°ƒç”¨AI
    5. åŒä»·ä½å‘½ä¸­ç¼“å­˜ â†’ ä¸é‡å¤è°ƒç”¨
    """
```

è¿™æ®µä»£ç ç›´æ¥è¯´æ˜äº†å½“å‰æ¶æ„çš„ç“¶é¢ˆï¼š**AIæ˜¯è¢«cronå”¤é†’ååˆ¤æ–­"è¦ä¸è¦è°ƒç”¨"ï¼Œè€Œä¸æ˜¯è‡ªå·±ä¸»åŠ¨è§‚å¯Ÿ"åº”ä¸åº”è¯¥è¡ŒåŠ¨"**ã€‚

#### 2.4.2 StrategySelectionServiceï¼ˆ3004è¡Œï¼‰

**æ–‡ä»¶**: `domains/core/ai/services/strategy/strategy_selection_service.py`

**å®ç°ç­–ç•¥é©±åŠ¨æ¶æ„çš„å®Œæ•´æµç¨‹**:

```
é˜¶æ®µ1: å€™é€‰ç­–ç•¥ç”Ÿæˆ
  - åŸºäºè‚¡ç¥¨ç‰¹æ€§ï¼ˆStockClassifierServiceï¼‰
  - åŸºäºå¸‚åœºçŠ¶æ€ï¼ˆMarketRegimeDetectionServiceï¼‰
  - åŸºäºå†å²è¡¨ç°
  - è¯„åˆ†é˜ˆå€¼: MIN_CANDIDATE_SCORE = 40.0
  - æœ€å¤šéªŒè¯5ä¸ªå€™é€‰ç­–ç•¥

é˜¶æ®µ2: å›æµ‹éªŒè¯è¿­ä»£
  - éå†å€™é€‰ç­–ç•¥ï¼Œè°ƒç”¨å¯¹åº”çš„ backtester
  - æ”¯æŒè‡ªé€‚åº”é˜ˆå€¼ï¼ˆè¿ç»­å¤±è´¥â‰¥3æ¬¡æ—¶æ”¾å®½æ¡ä»¶ï¼‰
  - ä¿å­˜è¯„ä¼°è½¨è¿¹ï¼ˆevaluation_trajectoryï¼‰

é˜¶æ®µ3: AIæœ€ç»ˆå†³ç­–
  - ç»¼åˆåˆ†æå›æµ‹ç»“æœ
  - ç»“åˆå¸‚åœºçŠ¶æ€æœ€ç»ˆç¡®å®šç­–ç•¥
  - å¦‚æœéƒ½ä¸åˆé€‚ï¼Œæ ‡è®°ä¸º"ä¸é€‚åˆäº¤æ˜“"
```

**æ•°æ®æ¨¡å‹**:
```python
CandidateStrategy:     # å€™é€‰ç­–ç•¥ï¼ˆscore, stock_score, regime_adjustment, historical_adjustmentï¼‰
ValidatedStrategy:     # éªŒè¯é€šè¿‡çš„ç­–ç•¥ï¼ˆbacktest_result, validation_result, ai_judgmentï¼‰
FinalStrategy:         # æœ€ç»ˆç­–ç•¥ï¼ˆstrategy_type, strategy_params, decision_reasonï¼‰
StrategySelectionResult: # é€‰æ‹©ç»“æœï¼ˆfinal + candidates + validated + market_regimeï¼‰
```

**8ç§ç­–ç•¥ç±»å‹**:
1. `intraday` - æ—¥å†…äº¤æ˜“
2. `t_trading` - åšTäº¤æ˜“
3. `swing` - æ³¢æ®µäº¤æ˜“
4. `trend_following` - è¶‹åŠ¿è·Ÿè¸ª
5. `mean_reversion` - å‡å€¼å›å½’
6. `breakout` - çªç ´ç­–ç•¥
7. `hold` - æŒæœ‰
8. `not_suitable` - ä¸é€‚åˆäº¤æ˜“

**AIå®¢æˆ·ç«¯è·å–**ï¼ˆä½“ç° task_type è·¯ç”±ï¼‰:
```python
self._ai_client = await get_client_for_task(
    task_type="strategy_selection",
    need_web_search=True,  # å¯ç”¨å®æ—¶æœç´¢
    # ä¸æŒ‡å®š preferred_modelï¼Œè®©è·¯ç”±é…ç½®å†³å®šä½¿ç”¨å“ªä¸ªæ¨¡å‹
)
```

#### 2.4.3 çŸ¥è¯†è’¸é¦å¾ªç¯

è¿™æ˜¯ mionyee ç‹¬æœ‰çš„ã€è¢«ç”Ÿäº§éªŒè¯è¿‡çš„çŸ¥è¯†é—­ç¯ï¼š

```
äº¤æ˜“å†³ç­– â†’ äº¤æ˜“æ‰§è¡Œ â†’ ç»“æœè¯„ä¼° â†’ çŸ¥è¯†ç”Ÿæˆ â†’ çŸ¥è¯†è¯„åˆ† â†’ çŸ¥è¯†åé¦ˆ â†’ çŸ¥è¯†è¡°å‡
                                        â†“
                                   æ³¨å…¥AI Prompt â†’ å½±å“ä¸‹æ¬¡å†³ç­–
```

**çŸ¥è¯†ç”Ÿæˆé“¾**ï¼ˆæ¯æ—¥22:30-22:45é¡ºåºæ‰§è¡Œï¼‰:
1. `touchpoint_knowledge_generation` - è§¦ç‚¹çŸ¥è¯†ï¼ˆäº¤æ˜“æ¥è§¦ç‚¹çš„ç»éªŒï¼‰
2. `decision_knowledge_generation` - å†³ç­–çŸ¥è¯†ï¼ˆå†³ç­–è¿‡ç¨‹çš„æ•™è®­ï¼‰
3. `trade_knowledge_generation` - äº¤æ˜“çŸ¥è¯†ï¼ˆäº¤æ˜“ç»“æœçš„æ€»ç»“ï¼‰
4. `evaluation_knowledge_generation` - è¯„ä¼°çŸ¥è¯†ï¼ˆè¯„ä¼°å‡†ç¡®æ€§çš„åæ€ï¼‰

**çŸ¥è¯†ç»´æŠ¤**:
- `knowledge_scoring`ï¼ˆæ¯æ—¥22:45ï¼‰- å¯¹çŸ¥è¯†æ¡ç›®è¿›è¡Œè´¨é‡è¯„åˆ†
- `knowledge_feedback`ï¼ˆæ¯æ—¥22:35ï¼‰- å†³ç­–éªŒè¯ç»“æœåé¦ˆåˆ°çŸ¥è¯†åº“
- `knowledge_validation`ï¼ˆæ¯å‘¨æ—¥22:50ï¼‰- å‘¨åº¦çŸ¥è¯†éªŒè¯
- `knowledge_decay`ï¼ˆæ¯æœˆ1æ—¥00:00ï¼‰- æœˆåº¦çŸ¥è¯†è¡°å‡ï¼ˆæ·˜æ±°è¿‡æ—¶çŸ¥è¯†ï¼‰

### 2.5 äº¤æ˜“æ‰§è¡Œæ¡ä»¶è£…é¥°å™¨

```python
@require_trading_day     # è¦æ±‚äº¤æ˜“æ—¥ï¼ˆå«èŠ‚å‡æ—¥æ£€æŸ¥ï¼‰
@require_trading_time    # è¦æ±‚äº¤æ˜“æ—¥ + äº¤æ˜“æ—¶é—´æ®µï¼ˆ9:30-11:30, 13:00-15:00ï¼‰
@require_time_window(22, 0, tolerance_minutes=5)  # è¦æ±‚ç‰¹å®šæ—¶é—´çª—å£Â±5åˆ†é’Ÿ
```

è¿™äº›è£…é¥°å™¨æ˜¯å½“å‰ cron æ¶æ„çš„æ ¸å¿ƒæ§åˆ¶é€»è¾‘ â€”â€” æ¯ä¸ªå®šæ—¶ä»»åŠ¡éƒ½æœ‰å‰ç½®æ¡ä»¶æ£€æŸ¥ï¼Œéäº¤æ˜“æ—¶é—´/éäº¤æ˜“æ—¥ç›´æ¥è·³è¿‡ã€‚

### 2.6 å¹³å°åº“ï¼ˆmionyee/ï¼‰

mionyee ä»“åº“å†…è¿˜æœ‰ä¸€ä¸ª `mionyee/` åŒ…ï¼ˆé `mionyee_platform`ï¼‰ï¼Œæä¾›ï¼š
- `mionyee.ai/` - AIå®¢æˆ·ç«¯ï¼ˆDeepSeek, Qwenç­‰ï¼‰
- `mionyee.config/` - é…ç½®ç®¡ç†
- `mionyee.logging/` - ç»Ÿä¸€æ—¥å¿—ï¼ˆ`get_logger`ï¼‰
- `mionyee.platform/` - å¹³å°èƒ½åŠ›
- `mionyee.knowledge/` - çŸ¥è¯†/å‘é‡å­˜å‚¨
- `mionyee.scoring/` - è¯„åˆ†å¼•æ“ï¼ˆ`get_threshold_manager`ï¼‰

**æ³¨æ„**ï¼šmionyee-agent çš„è§„åˆ™æ–‡ä»¶æ˜ç¡®ç¦æ­¢ `import mionyee`ï¼Œåªå…è®¸ `import mionyee_platform`ã€‚è¿™è¡¨æ˜ mionyee åŒ…æ˜¯æ—§çš„æœ¬åœ°åº“ï¼Œmionyee-platform æ˜¯å…¶æ¼”è¿›åçš„ç‹¬ç«‹ä»“åº“ã€‚

---

## ä¸‰ã€mionyee-platform â€” èƒ½åŠ›å¹³å°æ·±åº¦åˆ†æ

### 3.1 ä»“åº“æ¦‚è§ˆ

| ç»´åº¦ | æ•°æ® |
|------|------|
| è·¯å¾„ | `D:\AI\mionyee-platform` |
| è¯­è¨€ | Python (FastAPI) |
| æ ¸å¿ƒåŒ… | `mionyee_platform/` |
| å…¥å£ | `mionyee_platform/agent_api/app.py`ï¼ˆ2778è¡Œï¼‰ |
| æ ¸å¿ƒç†å¿µ | å¯ç»„åˆæ€§ / å¯è¯æ˜æ€§ / å¯è¿è¥æ€§ |

### 3.2 ç›®å½•ç»“æ„

```
mionyee_platform/
â”œâ”€â”€ agent_api/                     # Agent-facing REST APIï¼ˆ2778è¡Œ app.pyï¼‰
â”‚   â”œâ”€â”€ routes/platform_v1/        # è–„è…°å¥‘çº¦ç«¯ç‚¹
â”‚   â”‚   â”œâ”€â”€ policy_tick.py         # æ²»ç†å…¥å£
â”‚   â”‚   â”œâ”€â”€ ai_chat.py             # AIè·¯ç”±ç«¯ç‚¹
â”‚   â”‚   â”œâ”€â”€ ledger_record.py       # æ‰§è¡Œè®°å½•
â”‚   â”‚   â”œâ”€â”€ memory.py              # è®°å¿†æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ feedback.py            # åé¦ˆå¾ªç¯
â”‚   â”‚   â””â”€â”€ validation_gate.py     # éªŒè¯é—¨ç¦
â”‚   â”œâ”€â”€ app.py                     # FastAPIä¸»åº”ç”¨
â”‚   â””â”€â”€ auth.py                    # Bearer tokenè®¤è¯
â”œâ”€â”€ ai/                            # AIè·¯ç”±ä¸å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ router/
â”‚   â”‚   â”œâ”€â”€ model_router.py        # task_typeè·¯ç”±é€»è¾‘ï¼ˆ533è¡Œï¼‰
â”‚   â”‚   â”œâ”€â”€ provider_registry.py   # æä¾›å•†æ³¨å†Œ
â”‚   â”‚   â””â”€â”€ decision.py            # è·¯ç”±å†³ç­–
â”‚   â”œâ”€â”€ clients/                   # æ¨¡å‹å®¢æˆ·ç«¯é€‚é…å™¨
â”‚   â”‚   â”œâ”€â”€ qwen_client.py
â”‚   â”‚   â”œâ”€â”€ deepseek_client.py
â”‚   â”‚   â”œâ”€â”€ zhipuai_client.py
â”‚   â”‚   â””â”€â”€ siliconflow_client.py
â”‚   â””â”€â”€ governance/
â”‚       â””â”€â”€ finops.py              # æŒ‰ model/task_type/provider ä¸‰ç»´åº¦è¿½è¸ª calls/tokens/cost
â”œâ”€â”€ governance/                    # æ²»ç†
â”‚   â”œâ”€â”€ rbac/service.py            # è§’è‰²ï¼šSuperAdmin, PlatformOps, Governance, Finance, ReadOnly
â”‚   â”œâ”€â”€ audit/service.py           # å®¡è®¡æ—¥å¿—
â”‚   â””â”€â”€ retention/service.py       # æ•°æ®ç•™å­˜ç­–ç•¥
â”œâ”€â”€ policy_controller/             # ç­–ç•¥æ§åˆ¶ï¼ˆ330è¡Œï¼‰
â”‚   â””â”€â”€ service.py                 # å»é‡ã€ç†”æ–­ã€é™æµã€é¢„ç®—
â”œâ”€â”€ capabilities/                  # 6ä¸ªæ³¨å†Œèƒ½åŠ›
â”‚   â”œâ”€â”€ registry.py                # èƒ½åŠ›æ³¨å†Œä¸­å¿ƒï¼ˆå•ä¾‹ï¼‰
â”‚   â”œâ”€â”€ ai/conversation/           # å¯¹è¯èƒ½åŠ›
â”‚   â”œâ”€â”€ ai/knowledge_retrieval/    # çŸ¥è¯†æ£€ç´¢èƒ½åŠ›
â”‚   â”œâ”€â”€ decision/rule_engine/      # è§„åˆ™å¼•æ“ï¼ˆ420è¡Œï¼‰
â”‚   â”œâ”€â”€ analysis/metrics/          # æŒ‡æ ‡è®¡ç®—
â”‚   â”œâ”€â”€ notification/message_push/ # æ¶ˆæ¯æ¨é€
â”‚   â””â”€â”€ composability/touchpoint_registry/  # è§¦ç‚¹æ³¨å†Œ
â”œâ”€â”€ knowledge/                     # çŸ¥è¯†ç®¡ç†
â”‚   â”œâ”€â”€ knowledge_service.py       # ç»Ÿä¸€çŸ¥è¯†æœåŠ¡ï¼ˆ299è¡Œï¼‰
â”‚   â”‚   â”œâ”€â”€ TradingExperience      # äº¤æ˜“ç»éªŒæ•°æ®ç»“æ„
â”‚   â”‚   â”œâ”€â”€ add_trading_experience # æ·»åŠ äº¤æ˜“ç»éªŒ
â”‚   â”‚   â”œâ”€â”€ search_similar_experiences  # æœç´¢ç›¸ä¼¼ç»éªŒ
â”‚   â”‚   â”œâ”€â”€ add_failure_lesson     # æ·»åŠ å¤±è´¥æ•™è®­
â”‚   â”‚   â”œâ”€â”€ save_stock_profile     # ä¿å­˜ä¸ªè‚¡ç”»åƒ
â”‚   â”‚   â””â”€â”€ get_stock_profile      # è·å–ä¸ªè‚¡ç”»åƒ
â”‚   â”œâ”€â”€ vector_store.py            # ChromaDBé›†æˆ
â”‚   â”œâ”€â”€ feedback/                  # çŸ¥è¯†åé¦ˆå¾ªç¯
â”‚   â”œâ”€â”€ fusion/                    # çŸ¥è¯†èåˆ
â”‚   â”œâ”€â”€ graph/                     # çŸ¥è¯†å›¾è°±
â”‚   â””â”€â”€ retrievers/                # ä¸“ç”¨æ£€ç´¢å™¨
â”‚       â”œâ”€â”€ trading.py             # äº¤æ˜“å…³é”®è¯åŠ æƒï¼ˆæ­¢æŸã€æ­¢ç›ˆã€ä»“ä½ã€è¶‹åŠ¿ç­‰15ä¸ªå…³é”®è¯ï¼‰
â”‚       â”œâ”€â”€ confidence.py          # è´¨é‡åˆ†è¿‡æ»¤ï¼ˆmin_quality=0.3, quality_weight=0.3ï¼‰
â”‚       â””â”€â”€ time_aware.py          # æ—¶é—´è¡°å‡ï¼ˆhalf_life_days=30, weight=0.3ï¼‰
â”œâ”€â”€ memory/                        # è®°å¿†æœåŠ¡
â”‚   â”œâ”€â”€ models.py
â”‚   â””â”€â”€ service.py                 # ä¸‰å±‚æ£€ç´¢ï¼šDB scope / å‘é‡æ£€ç´¢ / Hybrid FTS+å‘é‡ï¼ˆalphaå¯è°ƒï¼‰
â”œâ”€â”€ orchestration/                 # ç¼–æ’
â”‚   â”œâ”€â”€ rag/                       # RAGç¼–æ’
â”‚   â”œâ”€â”€ reasoning_chain/service.py # æ¨ç†é“¾è®°å½•ï¼ˆstep_id, title, content, confidence, evidenceï¼‰
â”‚   â”œâ”€â”€ prompt_lifecycle/          # Promptç‰ˆæœ¬ç®¡ç†
â”‚   â””â”€â”€ agent_collaboration/       # å¤šAgentåè°ƒ
â””â”€â”€ infrastructure/                # åŸºç¡€è®¾æ–½
    â”œâ”€â”€ logging/                   # ç»“æ„åŒ–æ—¥å¿—
    â”œâ”€â”€ metrics/                   # æŒ‡æ ‡æ”¶é›†
    â”œâ”€â”€ monitoring/                # å¯è§‚æµ‹æ€§
    â”œâ”€â”€ alerting/                  # å‘Šè­¦ç®¡ç†
    â””â”€â”€ state/                     # çŠ¶æ€ç®¡ç†
```

### 3.3 è–„è…°å¥‘çº¦ï¼ˆThin Waist Contractï¼‰

è¿™æ˜¯ agent å’Œ platform ä¹‹é—´çš„æ ¸å¿ƒåè®®ï¼š

```
Agent                                Platform
  â”‚                                     â”‚
  â”œâ”€â”€â”€ POST /policy/tick â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚  æ²»ç†æ£€æŸ¥ï¼ˆå»é‡/ç†”æ–­/é™æµ/é¢„ç®—ï¼‰
  â”‚â—„â”€â”€ { ledger_id, status } â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  è¿”å›æ‰§è¡Œè®¸å¯
  â”‚                                     â”‚
  â”œâ”€â”€â”€ POST /ai/chat â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚  AIè°ƒç”¨ï¼ˆå¿…é¡»æºå¸¦ ledger_idï¼‰
  â”‚    (header: X-Ledger-Id)            â”‚  æŒ‰ task_type è·¯ç”±åˆ°åˆé€‚æ¨¡å‹
  â”‚â—„â”€â”€ { content, tool_calls, usage } â”€â”€â”¤  
  â”‚                                     â”‚
  â”œâ”€â”€â”€ POST /ledger/record â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚  å›å¡«æ‰§è¡Œç»“æœ
  â”‚    { ledger_id, execution, metrics } â”‚  
  â”‚â—„â”€â”€ { status: "ok" } â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚                                     â”‚
```

**å…³é”®çº¦æŸ**: æ²¡æœ‰ `policy_tick` è¿”å›çš„ `ledger_id`ï¼Œ`ai/chat` ç›´æ¥è¿”å›400ã€‚è¿™æ˜¯å¼ºåˆ¶çš„æ²»ç†é“¾ã€‚

### 3.4 13ä¸ª Task Type è·¯ç”±é…ç½®

**æ–‡ä»¶**: `config/model_routing.yaml`

| Task Type | æè¿° | é¦–é€‰æ¨¡å‹ | èƒ½åŠ›éœ€æ±‚ | å®æ—¶æœç´¢ |
|-----------|------|---------|---------|---------|
| `trading_decision` | åšTå†³ç­– | qwen | web_search, reasoning | âœ… |
| `strategy_generation` | ç­–ç•¥ç”Ÿæˆ | qwen, deepseek_backup | reasoning, long_context | âŒ |
| `knowledge_extraction` | çŸ¥è¯†æå– | qwen | chinese, extraction | âŒ |
| `realtime_news` | å®æ—¶æ–°é—» | qwen | web_search | âœ… |
| `general` | é€šç”¨ä»»åŠ¡ | qwen, zhipuai, deepseek_backup | - | âŒ |
| `weekly_review` | å‘¨å¤ç›˜ | qwen, deepseek_backup | long_context, reasoning | âŒ |
| `today_review` | ä»Šæ—¥å¤ç›˜ | qwen, deepseek_backup | long_context, reasoning | âŒ |
| `monthly_review` | æœˆå¤ç›˜ | qwen, deepseek_backup | long_context, reasoning | âŒ |
| `conviction_analysis` | ä¿¡å¿µåº¦è¯„ä¼°ï¼ˆåŒAIè¾©è®ºï¼‰ | qwen | web_search, reasoning, chinese | âœ… |
| `stock_analysis` | è‚¡ç¥¨åˆ†æ/æ¨è | qwen | web_search, reasoning | âœ… |
| `strategy_selection` | ç­–ç•¥é€‰æ‹© | qwen | web_search, reasoning, chinese | âœ… |
| `backtest_parameter_generation` | å›æµ‹å‚æ•°ç”Ÿæˆ | qwen | web_search, reasoning, chinese | âœ… |
| `strategy_execution_point` | ç­–ç•¥æ‰§è¡Œç‚¹åˆ¤æ–­ | qwen | reasoning, chinese | âŒ |

**ç‰¹æ®Šé…ç½®**: `conviction_analysis` æœ‰ `dual_ai_config`ï¼ˆBull AI vs Bear AIä½¿ç”¨ä¸åŒæ¨¡å‹è¿›è¡Œè¾©è®ºï¼‰ã€‚

### 3.5 PolicyController å››é‡å®ˆå«

```python
class PolicyController:
    # å»é‡: TTLç¼“å­˜ï¼ˆé»˜è®¤300ç§’ï¼‰
    # ç†”æ–­: æ•…éšœå300ç§’æ–­è·¯
    # é™æµ: æŒ‰keyæ»‘åŠ¨çª—å£ï¼ˆå¯é…ç½® window_seconds, limitï¼‰
    # é¢„ç®—: æ‰§è¡Œå‰æ£€æŸ¥å‰©ä½™é¢„ç®—

    # PolicyLedgerRecord.status å¯èƒ½å€¼ï¼š
    # - recorded: æ­£å¸¸è®°å½•
    # - executed: å·²æ‰§è¡Œ
    # - skipped_dedup: å»é‡è·³è¿‡
    # - skipped_circuit_open: ç†”æ–­è·³è¿‡
    # - skipped_budget: é¢„ç®—ä¸è¶³è·³è¿‡
    # - skipped_rate_limit: é™æµè·³è¿‡
```

### 3.6 çŸ¥è¯†æœåŠ¡æ ¸å¿ƒæ•°æ®ç»“æ„

```python
@dataclass
class TradingExperience:
    symbol: str          # è‚¡ç¥¨ä»£ç 
    name: str            # è‚¡ç¥¨åç§°
    action: str          # buy, sell, t_positive, t_negative, hold
    entry_price: float   # å…¥åœºä»·
    exit_price: float    # å‡ºåœºä»·
    profit_rate: float   # æ”¶ç›Šç‡
    holding_days: int    # æŒæœ‰å¤©æ•°
    outcome: str         # success, failure, neutral
    context: str         # å½“æ—¶çš„æŠ€æœ¯é¢ã€èµ„é‡‘é¢æè¿°
    lesson: str          # ç»éªŒæ•™è®­
    trade_date: str      # äº¤æ˜“æ—¥æœŸ
```

å‘é‡åŒ–å­˜å‚¨3ä¸ªcollection:
- `trading_experience` - äº¤æ˜“ç»éªŒï¼ˆæŒ‰symbolè¿‡æ»¤ï¼‰
- `failure_lessons` - å¤±è´¥æ•™è®­
- `stock_profiles` - ä¸ªè‚¡ç”»åƒï¼ˆå”¯ä¸€ï¼Œè¦†ç›–æ›´æ–°ï¼‰

---

## å››ã€mionyee-agent â€” è‡ªä¸»è¿è¡Œæ—¶æ·±åº¦åˆ†æ

### 4.1 ä»“åº“æ¦‚è§ˆ

| ç»´åº¦ | æ•°æ® |
|------|------|
| è·¯å¾„ | `D:\AI\mionyee-agent` |
| è¯­è¨€ | TypeScript |
| æ ¸å¿ƒ | `runtime/src/` |
| å…¥å£(CLI) | `runtime/src/cli/run.ts`ï¼ˆ2379è¡Œï¼‰ |
| å…¥å£(HTTP) | `runtime/src/service/server.ts`ï¼ˆ938è¡Œï¼‰ |
| çµæ„Ÿæ¥æº | Moltbot (OpenClaw) |

### 4.2 ç›®å½•ç»“æ„

```
runtime/src/
â”œâ”€â”€ cli/                         # CLIå‘½ä»¤
â”‚   â”œâ”€â”€ run.ts                   # ä¸»æ‰§è¡Œå…¥å£ï¼ˆ2379è¡Œï¼‰
â”‚   â””â”€â”€ commands/                # å­å‘½ä»¤
â”œâ”€â”€ service/                     # HTTP APIæœåŠ¡
â”‚   â”œâ”€â”€ server.ts                # ä¸»HTTPæœåŠ¡ï¼ˆ938è¡Œï¼Œç«¯å£4010ï¼‰
â”‚   â”œâ”€â”€ worker.ts                # é˜Ÿåˆ—Worker
â”‚   â””â”€â”€ run_store.ts             # å†…å­˜ä¸­çš„Runå­˜å‚¨
â”œâ”€â”€ orchestrator/                # å¤šAgentç¼–æ’
â”‚   â”œâ”€â”€ index.ts
â”‚   â””â”€â”€ stock_store.ts           # è‚¡ç¥¨ç¼–æ’è¿è¡Œå­˜å‚¨ï¼ˆMVPï¼Œå†…å­˜ï¼‰
â”œâ”€â”€ events/                      # äº‹ä»¶é©±åŠ¨æ¶æ„
â”‚   â”œâ”€â”€ emitter.ts               # äº‹ä»¶å‘å°„å™¨ï¼ˆJSONLè¾“å‡ºï¼‰
â”‚   â””â”€â”€ types.ts                 # äº‹ä»¶ç±»å‹å®šä¹‰
â”œâ”€â”€ governance/                  # å¹³å°é›†æˆ
â”‚   â”œâ”€â”€ hooks.ts                 # beforeExecute/afterExecute é’©å­
â”‚   â””â”€â”€ platform_client.ts       # å¹³å°APIå®¢æˆ·ç«¯
â”œâ”€â”€ providers/                   # LLMæä¾›å•†
â”‚   â”œâ”€â”€ platform-provider.ts     # é€šè¿‡Platformè·¯ç”±
â”‚   â”œâ”€â”€ local-llm-provider.ts    # æœ¬åœ°LLM
â”‚   â””â”€â”€ ollama-provider.ts       # Ollama
â”œâ”€â”€ skills/                      # æŠ€èƒ½ç³»ç»Ÿï¼ˆSKILL.mdåŠ è½½å™¨ï¼‰
â”‚   â”œâ”€â”€ registry.ts
â”‚   â”œâ”€â”€ loader.ts
â”‚   â””â”€â”€ market.ts
â”œâ”€â”€ tools/                       # å·¥å…·æ³¨å†Œä¸æ‰§è¡Œ
â”‚   â”œâ”€â”€ registry.ts
â”‚   â”œâ”€â”€ policy.ts                # ä¸‰å±‚å·¥å…·é£æ§ï¼ˆtier_0/1/2ï¼‰
â”‚   â”œâ”€â”€ tool-policy-profiles.ts  # å·¥å…·Profileï¼ˆminimal/coding/messaging/fullï¼‰
â”‚   â”œâ”€â”€ exec-tool.ts
â”‚   â””â”€â”€ file-tools.ts
â”œâ”€â”€ sandbox/                     # æ²™ç®±æ‰§è¡Œ
â”‚   â””â”€â”€ docker-args.ts           # DockeråŠ å›ºï¼ˆseccomp, AppArmor, cap-drop, readonly, ç½‘ç»œéš”ç¦», èµ„æºé™åˆ¶ï¼‰
â”œâ”€â”€ session/                     # ä¼šè¯ç®¡ç†
â”œâ”€â”€ memory/                      # è®°å¿†æ’ä»¶ç³»ç»Ÿ
â””â”€â”€ heartbeat/                   # å¿ƒè·³è°ƒåº¦
    â””â”€â”€ scheduler.ts
```

### 4.3 æ²»ç†é’©å­

```typescript
// governance/hooks.ts
export async function beforeExecute(config, req, idempotencyKey): Promise<{ ledgerId: string }> {
    const res = await postPolicyTick(config, req, idempotencyKey);
    if (!ALLOWED_POLICY_STATUS.has(res.status)) {
        throw new ExecutionRejectedError(`Policy tick æœªå…è®¸æ‰§è¡Œ: status=${res.status}`, ...);
    }
    return { ledgerId: res.ledger_id };
}

export async function afterExecute(config, ledgerId, executionData, idempotencyKey) {
    await postLedgerRecord(config, ledgerId, executionData, idempotencyKey);
}
```

### 4.4 å·¥å…·ç­–ç•¥ä¸‰å±‚é£æ§

```typescript
// tools/tool-policy-profiles.ts
TOOL_GROUPS: {
    "group:fs": ["read_workspace_file", "write_workspace_file", "apply_patch", "edit"],
    "group:runtime": ["exec"],
    "group:sessions": ["session_status", "session_list"],
    "group:memory": ["memory_write", "memory_read"],
    "group:web": ["web_search", "web_read"]
}

TOOL_PROFILES: {
    minimal: { allow: ["session_status"] },
    coding: { allow: ["group:fs", "group:runtime", "group:sessions", "group:memory"] },
    messaging: { allow: ["group:sessions", "group:web", "group:memory"] },
    full: { allow: ["group:fs", "group:runtime", "group:sessions", "group:memory", "group:web"] }
}

// tools/policy.ts - ä¸‰å±‚é£æ§
// tier_0: åŸºç¡€å·¥å…·ï¼ˆå§‹ç»ˆå¯ç”¨ï¼‰
// tier_1: éœ€è¦é¢å¤–æƒé™
// tier_2: é«˜é£é™©å·¥å…·ï¼ˆéœ€è¦æ˜ç¡®æˆæƒï¼‰
```

### 4.5 äº‹ä»¶ç”Ÿå‘½å‘¨æœŸ

```typescript
type RunEventStage =
    | "run.started"
    | "policy.checked"
    | "skill.activated"
    | "memory.queried"
    | "llm.requested"
    | "llm.chunk"
    | "llm.completed"
    | "tool.called"
    | "tool.result"
    | "sandbox.exec.started"
    | "sandbox.exec.completed"
    | "run.completed"
    | "run.failed";
```

### 4.6 å¤šAgentç¼–æ’ï¼ˆè‚¡ç¥¨åˆ†æï¼‰

```typescript
// service/server.ts - è‚¡ç¥¨ç¼–æ’ç«¯ç‚¹
const STEP_NAMES = ["technical", "fundamental", "sentiment"];
const STEP_PROMPTS = [
    "ä»æŠ€æœ¯é¢ç®€è¦åˆ†æè¯¥æ ‡çš„ï¼Œç»™å‡ºæ‘˜è¦ä¸å…³é”®ä¿¡å·ã€‚",
    "ä»åŸºæœ¬é¢ç®€è¦åˆ†æè¯¥æ ‡çš„ï¼Œç»™å‡ºæ‘˜è¦ä¸å…³é”®ä¿¡å·ã€‚",
    "ä»æƒ…ç»ªé¢ç®€è¦åˆ†æè¯¥æ ‡çš„ï¼Œç»™å‡ºæ‘˜è¦ä¸å…³é”®ä¿¡å·ã€‚",
];
// åˆ†åˆ«æäº¤3ä¸ªå­Agentè¿è¡Œï¼Œèšåˆç»“æœ
```

### 4.7 ç‹¬ç«‹æ¨¡å¼ï¼ˆStandalone Modeï¼‰

mionyee-agent å¯ä»¥åœ¨ä¸è¿æ¥ Platform çš„æƒ…å†µä¸‹è¿è¡Œï¼Œä½¿ç”¨æœ¬åœ°ç­–ç•¥å¼•æ“å’ŒLLMæä¾›å•†ï¼Œä½†ä»ä¿æŒè–„è…°APIå¥‘çº¦çš„æ¥å£ã€‚

### 4.8 è‡ªä¸»å¾ªç¯ç°çŠ¶

- **å­˜åœ¨**: `runtime/scripts/autonomous-loop-demo.mjs` â€”â€” ä¸€ä¸ªdemoè„šæœ¬ï¼Œå‘¨æœŸæ€§è°ƒç”¨ `POST /api/agent/hooks/run`
- **ä¸å­˜åœ¨**: ç”Ÿäº§çº§çš„è‡ªä¸»äº¤æ˜“å¾ªç¯
- **åŸºç¡€è®¾æ–½å°±ç»ª**: webhooksã€cron jobsï¼ˆæ–‡ä»¶é©±åŠ¨ï¼‰ã€sessionsã€heartbeat

---

## äº”ã€æ ¸å¿ƒé—®é¢˜è¯Šæ–­ï¼šä» Cron åˆ°è‡ªä¸»

### 5.1 é—®é¢˜æœ¬è´¨

mionyee å½“å‰æ¶æ„ï¼š
```
Cron Timer (APScheduler)
    â”œâ”€â”€ æ¯60ç§’ â†’ position_entry_monitor_handler()
    â”‚     â””â”€â”€ @require_trading_time â†’ æ£€æŸ¥å…¥åœºæœºä¼š â†’ AIå†³ç­– â†’ æ‰§è¡Œ
    â”œâ”€â”€ æ¯60ç§’ â†’ t_trading_execution_monitor_minutely_handler()
    â”‚     â””â”€â”€ @require_trading_time â†’ æ£€æŸ¥åšTæœºä¼š â†’ AIå†³ç­– â†’ æ‰§è¡Œ
    â””â”€â”€ ... (48ä¸ªä»»åŠ¡)
```

æœŸæœ›çš„æ¶æ„ï¼š
```
AI Agent (è‡ªä¸»è¿è¡Œæ—¶)
    â”œâ”€â”€ è§‚å¯Ÿå¸‚åœºçŠ¶æ€ â†’ è‡ªä¸»åˆ¤æ–­"ç°åœ¨éœ€è¦åšä»€ä¹ˆ"
    â”œâ”€â”€ è‡ªä¸»é€‰æ‹©è¡ŒåŠ¨ â†’ è°ƒç”¨å¯¹åº”çš„å†³ç­–æœåŠ¡
    â”œâ”€â”€ è‡ªä¸»ç®¡ç†èŠ‚å¥ â†’ ä¸æ˜¯å›ºå®š60ç§’ï¼Œè€Œæ˜¯æ ¹æ®å¸‚åœºæ³¢åŠ¨è°ƒæ•´
    â””â”€â”€ è‡ªä¸»å­¦ä¹ è¿›åŒ– â†’ ä¸åªæ˜¯æ¯æ—¥22:00çš„çŸ¥è¯†è’¸é¦ï¼Œè€Œæ˜¯å®æ—¶å­¦ä¹ 
```

### 5.2 Cronæ¶æ„çš„å…·ä½“é™åˆ¶

1. **å›ºå®šé¢‘ç‡ vs å¸‚åœºèŠ‚å¥**
   - å½“å‰ï¼šæ¯60ç§’æ£€æŸ¥ä¸€æ¬¡åšTæœºä¼šï¼Œä¸ç®¡å¸‚åœºæ˜¯å¦æœ‰æ³¢åŠ¨
   - æœŸæœ›ï¼šå¸‚åœºå‰§çƒˆæ³¢åŠ¨æ—¶åŠ å¿«æ£€æŸ¥é¢‘ç‡ï¼Œå¹³é™æ—¶å‡å°‘

2. **è¢«åŠ¨å”¤é†’ vs ä¸»åŠ¨è§‚å¯Ÿ**
   - å½“å‰ï¼šAIè¢«`_should_call_ai()`çš„å†·å´æœºåˆ¶æ§åˆ¶ï¼Œ10åˆ†é’Ÿå†…åŒä¸€è‚¡ç¥¨ä¸é‡å¤è°ƒç”¨
   - æœŸæœ›ï¼šAIè‡ªå·±åˆ¤æ–­"è¿™ä¸ªæ—¶é—´ç‚¹å€¼å¾—å†çœ‹ä¸€çœ¼"

3. **å›ºå®šæ—¶é—´è¡¨ vs åŠ¨æ€è°ƒåº¦**
   - å½“å‰ï¼š09:40ç›˜å‰å†³ç­–ã€11:30åˆç›˜è¯„ä¼°...å›ºå®šæ—¶é—´
   - æœŸæœ›ï¼šAIæ ¹æ®æ—©ç›˜èµ°åŠ¿å†³å®š"æ˜¯å¦éœ€è¦æå‰åšåˆç›˜è¯„ä¼°"

4. **ä¸²è¡ŒçŸ¥è¯†å¾ªç¯ vs å®æ—¶å­¦ä¹ **
   - å½“å‰ï¼š22:00-22:45æ‰¹é‡æ‰§è¡ŒçŸ¥è¯†è’¸é¦é“¾
   - æœŸæœ›ï¼šæ¯æ¬¡äº¤æ˜“åç«‹å³åæ€å’Œå­¦ä¹ 

### 5.3 å·²æœ‰çš„è¿‡æ¸¡è¿¹è±¡

ä»£ç ä¸­å·²æœ‰ä»cronå‘agentè¿‡æ¸¡çš„ç—•è¿¹ï¼š

```python
# task_handlers.py ä¸­çš„æ³¨é‡Š
LEGACY_DISABLED_TASK_NAMES = {
    "ai_auto_trading",          # æ—§ç‰ˆAIè‡ªåŠ¨äº¤æ˜“
    "ai_auto_trading_complete", # æ—§ç‰ˆè‡ªåŠ¨å®Œæˆ
    ...
}
# æ³¨é‡Šï¼š"AIäº¤æ˜“å…¨éƒ¨é›†ä¸­åœ¨ AgentHolding ç­–ç•¥é—­ç¯"
```

```python
# scheduled_holdings_scan_handler() ä¸­
# âœ… é‡è¦ï¼šå·²åœç”¨"ç”¨æˆ·æŒä»“"çš„æ—§ç‰ˆAIè‡ªåŠ¨äº¤æ˜“ï¼ˆé»„é‡‘æ—¶é—´ç‚¹æ‰«æï¼‰
# AI è‡ªåŠ¨äº¤æ˜“å·²è¿ç§»è‡³ Agent æŒä»“ç­–ç•¥æ‰§è¡Œé—­ç¯ï¼ˆagent_holdingsï¼‰é“¾è·¯
```

è¿™è¯´æ˜å·²ç»åœ¨æœ‰æ„è¯†åœ°ä»æ—§çš„croné©±åŠ¨é“¾è·¯è¿ç§»åˆ°agenté©±åŠ¨çš„é“¾è·¯ã€‚

---

## å…­ã€OwlClaw å®šä½ â€” æœ€ç»ˆå…±è¯†ï¼ˆ2026-02-10ï¼‰

### 6.1 è®¨è®ºå†ç¨‹

è®¨è®ºç»å†äº†å¤šæ¬¡çº åï¼Œæœ€ç»ˆåœ¨ 2026-02-10 è¾¾æˆæ¸…æ™°å…±è¯†ï¼š

1. **åˆå§‹å»ºè®®**ï¼ˆè¢«å¦å®šï¼‰ï¼šå¼€æºæ²»ç†å’Œç­–ç•¥ â†’ ç”¨æˆ·è®¤ä¸ºå¤ªæµ…
2. **ç¬¬äºŒç‰ˆå»ºè®®**ï¼ˆè¢«å¦å®šï¼‰ï¼šå¼€æº"èƒ½åŠ›å¹³å°" â†’ ç”¨æˆ·è®¤ä¸ºæ²¡çœ‹ä»£ç å°±ä¸‹ç»“è®º
3. **ç¬¬ä¸‰ç‰ˆå»ºè®®**ï¼ˆè¢«å¦å®šä¸ºè‡ªåœ†å…¶è¯´ï¼‰ï¼šåˆå¹¶agent+platformä¸º"æ²»ç†èƒ½åŠ›å¹³å°" â†’ ç”¨æˆ·è®¤ä¸ºæ˜¯è‡ªæˆ‘å¹å˜˜
4. **å¤–éƒ¨å¯¹æ ‡**ï¼ˆè¢«éƒ¨åˆ†è®¤å¯ï¼‰ï¼šä¸Langfuse/Helicone/OpenClawå¯¹æ¯” â†’ æ‰¿è®¤å½“å‰äº§å“æˆç†Ÿåº¦ä¸è¶³
5. **æ·±åº¦è¯»ç å**ï¼šç»ˆäºçœ‹åˆ°äº†çœŸæ­£çš„å…¨è²Œ â€”â€” 1164æ–‡ä»¶çš„ç”Ÿäº§ç³»ç»Ÿ
6. **âœ… æœ€ç»ˆå…±è¯†**ï¼šyeemio æ˜ç¡®äº† OwlClaw çš„å®šä½ï¼ˆè§ä¸‹æ–‡ï¼‰

### 6.2 yeemio çš„åŸè¯ï¼ˆæ ¸å¿ƒå®šä½å£°æ˜ï¼‰

> 1ã€mionyeeå°±æ˜¯ä¸€ä¸ªå…¸å‹çš„åº”ç”¨åœºæ™¯ï¼Œå®ƒæ˜¯ä¸€æ•´å¥—å®Œæ•´çš„ä¸šåŠ¡é€»è¾‘ï¼Œåœ¨é åŸå§‹çš„è®¾å®šå¥½çš„è·¯å¾„å»è·‘ï¼›
> 2ã€é‚£ä¹ˆæˆ‘æƒ³è¦çš„å°±æ˜¯ä¸€ä¸ªï¼Œå¯ä»¥è®©mionyeeä¹‹ç±»çš„åº”ç”¨ï¼Œå¾ˆæ–¹ä¾¿çš„æ¥å…¥çš„ agentåº•åº§ï¼Œæˆ‘ä¸ºä»€ä¹ˆè¦å»å¯¹æ ‡openclawï¼Œå› ä¸ºopenclawçš„å…¥å£ä¸»è¦æ˜¯å¯¹è¯ï¼Œæˆ‘ä¸ºä»€ä¹ˆåˆè¦è‡ªå·±å»åšä¸€å¥—ï¼Œå› ä¸ºæˆ‘æƒ³è¦çš„å…¥å£æ˜¯ä¸šåŠ¡å±‚åº”ç”¨ã€‚
> 3ã€æˆ‘ä»¬çš„ç›®æ ‡ç°åœ¨ä¹Ÿæ¯”è¾ƒæ˜ç¡®ï¼Œå°±æ˜¯æˆ‘å¯ä»¥å¿«é€Ÿçš„è®©ä¸€ä¸ªæˆç†Ÿåº”ç”¨ï¼Œç”¨ä¸Šç±»ä¼¼ openclawçš„è‡ªä¸»èƒ½åŠ›ï¼Œä¸”å¯ç»„åˆæ²»ç†è¿è¥ã€‚

### 6.3 OwlClaw çš„æ ¸å¿ƒå®šä½

**ä¸€å¥è¯**: OwlClaw æ˜¯é¢å‘ä¸šåŠ¡åº”ç”¨çš„ Agent åº•åº§ â€”â€” è®©å·²æœ‰çš„æˆç†Ÿåº”ç”¨å¿«é€Ÿè·å¾— AI è‡ªä¸»èƒ½åŠ›ï¼Œä¸”å¯ç»„åˆã€å¯æ²»ç†ã€å¯è¿è¥ã€‚

### 6.4 OwlClaw vs OpenClaw â€” æ ¹æœ¬åŒºåˆ«

| ç»´åº¦ | OpenClaw (Moltbot) | OwlClaw |
|------|-------------------|---------|
| **å…¥å£** | å¯¹è¯ï¼ˆç”¨æˆ·å‘æ¶ˆæ¯ï¼‰ | ä¸šåŠ¡åº”ç”¨ï¼ˆåº”ç”¨æ³¨å†Œèƒ½åŠ›å’Œä»»åŠ¡ï¼‰ |
| **é©±åŠ¨æ–¹å¼** | äººç±»å‘èµ· â†’ Agentæ‰§è¡Œ | ä¸šåŠ¡çŠ¶æ€å˜åŒ– â†’ Agentè‡ªä¸»è§‚å¯Ÿ/å†³ç­–/è¡ŒåŠ¨ |
| **ç›®æ ‡ç”¨æˆ·** | å¼€å‘è€… / ç»ˆç«¯ç”¨æˆ· | å·²æœ‰æˆç†Ÿä¸šåŠ¡åº”ç”¨çš„å›¢é˜Ÿ |
| **æ ¸å¿ƒé—®é¢˜** | "è®©AIå¸®æˆ‘å®Œæˆä¸€ä¸ªä»»åŠ¡" | "è®©æˆ‘çš„ä¸šåŠ¡åº”ç”¨æ‹¥æœ‰AIè‡ªä¸»èƒ½åŠ›" |
| **å…¸å‹åœºæ™¯** | ç”¨æˆ·è¯´"å¸®æˆ‘å†™æ®µä»£ç " â†’ Agentå†™ä»£ç  | äº¤æ˜“ç³»ç»Ÿæœ‰48ä¸ªcronä»»åŠ¡ â†’ Agentè‡ªä¸»å†³å®šä»€ä¹ˆæ—¶å€™åšä»€ä¹ˆ |
| **è‡ªä¸»æ€§** | Agentåœ¨å¯¹è¯èŒƒå›´å†…è‡ªä¸» | Agentåœ¨ä¸šåŠ¡åŸŸèŒƒå›´å†…è‡ªä¸» |

**æ ¸å¿ƒæ´å¯Ÿ**: OpenClaw è§£å†³çš„æ˜¯ **äººâ†’AIâ†’è¡ŒåŠ¨**ï¼›OwlClaw è§£å†³çš„æ˜¯ **ä¸šåŠ¡åº”ç”¨â†’AIè‡ªä¸»è§‚å¯Ÿ/å†³ç­–/è¡ŒåŠ¨â†’å¯æ²»ç†å¯è¿è¥**ã€‚

### 6.5 mionyee ä½œä¸ºç¬¬ä¸€ä¸ªç”¨ä¾‹çš„æ„ä¹‰

mionyee ä¸æ˜¯ OwlClaw çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒæ˜¯ OwlClaw çš„**ç¬¬ä¸€ä¸ªæ¥å…¥æ–¹**å’Œ**éªŒè¯åœºæ™¯**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  mionyeeï¼ˆæˆç†Ÿä¸šåŠ¡åº”ç”¨ï¼‰                              â”‚
â”‚  - 1164ä¸ªPythonæ–‡ä»¶çš„DDDæ¶æ„                         â”‚
â”‚  - 48ä¸ªå®šæ—¶ä»»åŠ¡ â†’ éœ€è¦è¢«Agentè‡ªä¸»èƒ½åŠ›æ›¿ä»£            â”‚
â”‚  - å®Œæ•´çš„AIäº¤æ˜“å†³ç­–é“¾è·¯                              â”‚
â”‚  - çŸ¥è¯†è’¸é¦å¾ªç¯                                      â”‚
â”‚                                                      â”‚
â”‚  å½“å‰ï¼šé  APScheduler cron é©±åŠ¨                      â”‚
â”‚  ç›®æ ‡ï¼šé  OwlClaw Agentåº•åº§ é©±åŠ¨                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚ æ¥å…¥
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  OwlClawï¼ˆAgentåº•åº§ï¼‰                                â”‚
â”‚                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ è‡ªä¸»è¿è¡Œæ—¶   â”‚  â”‚ æ²»ç†è–„è…°å¥‘çº¦  â”‚  â”‚ çŸ¥è¯†/è®°å¿†   â”‚ â”‚
â”‚  â”‚ (è§‚å¯Ÿâ†’å†³ç­–   â”‚  â”‚ (policy_tick  â”‚  â”‚ (ç»éªŒå­¦ä¹    â”‚ â”‚
â”‚  â”‚  â†’è¡ŒåŠ¨å¾ªç¯)  â”‚  â”‚  â†’ai/chat     â”‚  â”‚  åé¦ˆè¡°å‡)  â”‚ â”‚
â”‚  â”‚             â”‚  â”‚  â†’ledger)     â”‚  â”‚            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ AIè·¯ç”±       â”‚  â”‚ èƒ½åŠ›æ³¨å†Œ      â”‚  â”‚ å¯è¿è¥      â”‚ â”‚
â”‚  â”‚ (task_type   â”‚  â”‚ (ä¸šåŠ¡åº”ç”¨     â”‚  â”‚ (FinOps    â”‚ â”‚
â”‚  â”‚  â†’ æ¨¡å‹é€‰æ‹©) â”‚  â”‚  æ³¨å†Œèƒ½åŠ›)    â”‚  â”‚  RBAC      â”‚ â”‚
â”‚  â”‚             â”‚  â”‚              â”‚  â”‚  Audit)    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.6 OwlClaw éœ€è¦æä¾›çš„æ ¸å¿ƒèƒ½åŠ›

åŸºäº mionyee æ¥å…¥åœºæ™¯åæ¨ OwlClaw å¿…é¡»æä¾›çš„èƒ½åŠ›ï¼š

#### èƒ½åŠ›1ï¼šä¸šåŠ¡ä»»åŠ¡æ³¨å†Œä¸è‡ªä¸»è°ƒåº¦

**å½“å‰é—®é¢˜**ï¼ˆmionyeeï¼‰:
```python
# å†™æ­»çš„cronå®šä¹‰
{"name": "position_entry_monitor", "interval_seconds": 60}
{"name": "morning_decision", "cron_expression": "0 40 9 * * *"}
```

**OwlClawåº”æä¾›**:
- ä¸šåŠ¡åº”ç”¨æ³¨å†Œè‡ªå·±çš„"å¯æ‰§è¡Œä»»åŠ¡"ï¼ˆä¸æ˜¯cronï¼Œæ˜¯capabilityï¼‰
- Agentè‡ªä¸»è§‚å¯Ÿä¸šåŠ¡çŠ¶æ€ï¼Œå†³å®š"ç°åœ¨åº”è¯¥æ‰§è¡Œå“ªä¸ªä»»åŠ¡"
- ä¿ç•™äººå·¥è®¾å®šçš„çº¦æŸï¼ˆå¦‚"åªåœ¨äº¤æ˜“æ—¶é—´æ‰§è¡Œ"ï¼‰ä½†è®©Agentå†³å®šå…·ä½“æ—¶æœº

#### èƒ½åŠ›2ï¼šæ²»ç†è–„è…°å¥‘çº¦

**å·²æœ‰å®ç°**ï¼ˆmionyee-platformï¼‰:
- policy_tick â†’ ai/chat â†’ ledger_record
- å»é‡/ç†”æ–­/é™æµ/é¢„ç®—å››é‡å®ˆå«

**OwlClawåº”æä¾›**: å°†è¿™å¥—å¥‘çº¦æ ‡å‡†åŒ–ã€æ–‡æ¡£åŒ–ã€SDKåŒ–ï¼Œè®©ä»»ä½•åº”ç”¨éƒ½èƒ½æ¥å…¥ã€‚

#### èƒ½åŠ›3ï¼šAIè·¯ç”±ï¼ˆtask_typeé©±åŠ¨ï¼‰

**å·²æœ‰å®ç°**ï¼ˆmionyee-platformï¼‰:
- 13ä¸ªtask_typeçš„è·¯ç”±é…ç½®
- æŒ‰èƒ½åŠ›éœ€æ±‚ï¼ˆweb_search, reasoning, chineseç­‰ï¼‰é€‰æ‹©æ¨¡å‹

**OwlClawåº”æä¾›**: é€šç”¨çš„task_typeè·¯ç”±æ¡†æ¶ï¼Œä¸šåŠ¡åº”ç”¨è‡ªå®šä¹‰è‡ªå·±çš„task_typeã€‚

#### èƒ½åŠ›4ï¼šçŸ¥è¯†/ç»éªŒå¾ªç¯

**å·²æœ‰å®ç°**ï¼ˆmionyee + platformï¼‰:
- äº¤æ˜“ç»éªŒå­˜å‚¨ã€å¤±è´¥æ•™è®­ã€ä¸ªè‚¡ç”»åƒ
- çŸ¥è¯†è’¸é¦é“¾ï¼ˆ22:00-22:45ï¼‰
- çŸ¥è¯†åé¦ˆã€è¯„åˆ†ã€éªŒè¯ã€è¡°å‡

**OwlClawåº”æä¾›**: é€šç”¨çš„"ç»éªŒå­¦ä¹ "æ¡†æ¶ï¼Œä¸šåŠ¡åº”ç”¨æ³¨å†Œè‡ªå·±çš„ç»éªŒç»“æ„å’Œå­¦ä¹ å¾ªç¯ã€‚

#### èƒ½åŠ›5ï¼šå¯è¿è¥

**å·²æœ‰å®ç°**ï¼ˆmionyee-platformï¼‰:
- FinOpsï¼ˆæŒ‰model/task/providerè¿½è¸ªæˆæœ¬ï¼‰
- RBAC + Audit
- Platform Maturity Validation

**OwlClawåº”æä¾›**: å¼€ç®±å³ç”¨çš„è¿è¥å¥—ä»¶ã€‚

### 6.7 ä¸‰ä¸ªä»“åº“ä¸ OwlClaw çš„å…³ç³»

| ä»“åº“ | è§’è‰² | ä¸OwlClawçš„å…³ç³» |
|------|------|----------------|
| `mionyee` | ä¸šåŠ¡åº”ç”¨ï¼ˆç”¨ä¾‹ï¼‰ | OwlClawçš„ç¬¬ä¸€ä¸ªæ¥å…¥æ–¹ï¼ŒéªŒè¯"æˆç†Ÿåº”ç”¨æ¥å…¥Agentåº•åº§"çš„å¯è¡Œæ€§ |
| `mionyee-platform` | èƒ½åŠ›å¹³å°ï¼ˆå®ç°ï¼‰ | OwlClawçš„æ²»ç†/AIè·¯ç”±/çŸ¥è¯†èƒ½åŠ›çš„ä»£ç æ¥æºï¼ˆéœ€è¦æŠ½è±¡å’Œé€šç”¨åŒ–ï¼‰ |
| `mionyee-agent` | è‡ªä¸»è¿è¡Œæ—¶ï¼ˆå®ç°ï¼‰ | OwlClawçš„Agentè¿è¡Œæ—¶çš„ä»£ç æ¥æºï¼ˆéœ€è¦é‡æ–°é¢å‘"ä¸šåŠ¡åº”ç”¨å…¥å£"è®¾è®¡ï¼‰ |
| `owlclaw` | å¼€æºäº§å“ | ä»platform+agentä¸­æŠ½å–é€šç”¨èƒ½åŠ›ï¼Œæä¾›é¢å‘ä¸šåŠ¡åº”ç”¨çš„Agentåº•åº§ |

### 6.8 å¾…è§£å†³çš„é—®é¢˜ï¼ˆä¸‹ä¸€æ­¥ï¼‰

1. **OwlClaw çš„æ¥å…¥åè®®è®¾è®¡**
   - ä¸šåŠ¡åº”ç”¨å¦‚ä½•"æ³¨å†Œ"è‡ªå·±çš„ä»»åŠ¡/èƒ½åŠ›ï¼Ÿï¼ˆSDK? API? é…ç½®æ–‡ä»¶?ï¼‰
   - Agent å¦‚ä½•"ç†è§£"ä¸šåŠ¡åº”ç”¨çš„çŠ¶æ€ï¼Ÿï¼ˆåº”ç”¨æ¨é€? Agentè½®è¯¢? äº‹ä»¶é©±åŠ¨?ï¼‰
   - æ¥å…¥åè®®æ˜¯å¦éœ€è¦è·¨è¯­è¨€æ”¯æŒï¼Ÿï¼ˆmionyeeæ˜¯Pythonï¼Œagentæ˜¯TypeScriptï¼‰

2. **OwlClaw çš„æŠ€æœ¯é€‰å‹**
   - æ ¸å¿ƒç”¨ Pythonï¼ˆå»¶ç»­platformï¼‰è¿˜æ˜¯ TypeScriptï¼ˆå»¶ç»­agentï¼‰ï¼Ÿ
   - è¿˜æ˜¯æ··åˆæ¶æ„ï¼Ÿ

3. **ä» mionyee ä¸­æŠ½å–ä»€ä¹ˆ**
   - å“ªäº›æ˜¯å¯é€šç”¨åŒ–çš„æ¨¡å¼ï¼ˆå¦‚çŸ¥è¯†è’¸é¦å¾ªç¯ï¼‰
   - å“ªäº›æ˜¯çº¯ä¸šåŠ¡é€»è¾‘ï¼ˆå¦‚åšTç­–ç•¥ï¼‰ä¸åº”è¿›å…¥OwlClaw

4. **MVP èŒƒå›´**
   - æœ€å°å¯è¡Œçš„OwlClawéœ€è¦å“ªäº›èƒ½åŠ›ï¼Ÿ
   - mionyeeæ¥å…¥OwlClawçš„æœ€å°æ”¹åŠ¨æ˜¯ä»€ä¹ˆï¼Ÿ

---

## ä¸ƒã€å…³é”®ä»£ç ç´¢å¼•ï¼ˆé˜²æ­¢é‡å¤è¯»ç ï¼‰

### 7.1 mionyee æ ¸å¿ƒæ–‡ä»¶

| æ–‡ä»¶ | è¡Œæ•° | é‡è¦æ€§ | å†…å®¹ |
|------|------|--------|------|
| `applications/stock_analysis/domains/core/ai/services/decision/ai_auto_trading_service.py` | 5359 | ğŸ”´æé«˜ | AIè‡ªåŠ¨äº¤æ˜“v13.1.0ï¼šé»„é‡‘æ‰§è¡Œç‚¹æ£€æµ‹ã€æ¨¡æ‹Ÿäº¤æ˜“ã€çŸ¥è¯†æ„ŸçŸ¥å†³ç­– |
| `applications/stock_analysis/domains/generic/scheduler/services/task_handlers.py` | 3938 | ğŸ”´æé«˜ | 48ä¸ªå®šæ—¶ä»»åŠ¡å®šä¹‰ï¼ˆå®Œæ•´äº¤æ˜“æ—¥ç”Ÿå‘½å‘¨æœŸï¼‰ |
| `applications/stock_analysis/domains/core/ai/services/strategy/strategy_selection_service.py` | 3004 | ğŸ”´æé«˜ | ç­–ç•¥é€‰æ‹©ï¼šå€™é€‰ç”Ÿæˆâ†’å›æµ‹éªŒè¯â†’AIæœ€ç»ˆå†³ç­– |
| `applications/stock_analysis/api/app.py` | - | ğŸŸ¡é«˜ | FastAPIåº”ç”¨å…¥å£ï¼ˆDDDåŸŸè·¯ç”±ï¼‰ |
| `applications/stock_analysis/domains/core/ai/services/decision/t_trading_decision_service.py` | - | ğŸŸ¡é«˜ | T+0äº¤æ˜“å†³ç­– |
| `applications/stock_analysis/domains/core/ai/services/position/entry_execution_service.py` | - | ğŸŸ¡é«˜ | ä»“ä½å…¥åœºæ‰§è¡Œ |
| `applications/stock_analysis/domains/core/ai/services/position/entry_monitor_service.py` | - | ğŸŸ¡é«˜ | å…¥åœºæœºä¼šç›‘æ§ |
| `applications/stock_analysis/domains/core/ai/services/strategy/strategy_execution_monitor.py` | - | ğŸŸ¡é«˜ | ç­–ç•¥æ‰§è¡Œç›‘æ§ |
| `applications/stock_analysis/domains/core/trading/services/backtest/` | - | ğŸŸ¡é«˜ | 7ç§å›æµ‹å™¨ |
| `applications/stock_analysis/domains/core/knowledge/services/generation/` | - | ğŸŸ¡é«˜ | çŸ¥è¯†ç”Ÿæˆï¼ˆå†³ç­–/äº¤æ˜“/è¯„ä¼°/è§¦ç‚¹ï¼‰ |
| `applications/stock_analysis/scoring/` | - | ğŸŸ¡é«˜ | KnowledgeAwareDecisionMixin |
| `.cursor/rules/mionyee_core.mdc` | - | ğŸ”´æé«˜ | é¡¹ç›®æ ¸å¿ƒè§„åˆ™ç´¢å¼• |
| `.cursor/rules/mionyee_core_trading.mdc` | - | ğŸ”´æé«˜ | ç­–ç•¥é©±åŠ¨äº¤æ˜“æ¶æ„ |
| `.cursor/rules/mionyee_core_principles.mdc` | - | ğŸ”´æé«˜ | æ ¸å¿ƒåŸåˆ™ï¼ˆAI_DECISION_FIRST, è¡€çš„æ•™è®­ï¼‰ |

### 7.2 mionyee-platform æ ¸å¿ƒæ–‡ä»¶

| æ–‡ä»¶ | è¡Œæ•° | é‡è¦æ€§ | å†…å®¹ |
|------|------|--------|------|
| `config/model_routing.yaml` | ~130 | ğŸ”´æé«˜ | 13ä¸ªtask_typeè·¯ç”±é…ç½® |
| `config/model_providers.yaml` | ~40 | ğŸŸ¡é«˜ | 5ä¸ªæ¨¡å‹æä¾›å•†é…ç½® |
| `mionyee_platform/ai/router/model_router.py` | 533 | ğŸ”´æé«˜ | task_typeè·¯ç”±é€»è¾‘ |
| `mionyee_platform/policy_controller/service.py` | 330 | ğŸ”´æé«˜ | ç­–ç•¥æ§åˆ¶å™¨ï¼ˆå»é‡/ç†”æ–­/é™æµ/é¢„ç®—ï¼‰ |
| `mionyee_platform/agent_api/app.py` | 2778 | ğŸŸ¡é«˜ | å®Œæ•´Admin API |
| `mionyee_platform/agent_api/routes/platform_v1/policy_tick.py` | - | ğŸ”´æé«˜ | æ²»ç†å…¥å£ |
| `mionyee_platform/agent_api/routes/platform_v1/ai_chat.py` | - | ğŸ”´æé«˜ | AIè°ƒç”¨ç«¯ç‚¹ |
| `mionyee_platform/agent_api/routes/platform_v1/ledger_record.py` | - | ğŸ”´æé«˜ | æ‰§è¡Œè®°å½• |
| `mionyee_platform/knowledge/knowledge_service.py` | 299 | ğŸŸ¡é«˜ | äº¤æ˜“ç»éªŒ/å¤±è´¥æ•™è®­/ä¸ªè‚¡ç”»åƒ |
| `mionyee_platform/knowledge/retrievers/trading.py` | 61 | ğŸŸ¡é«˜ | äº¤æ˜“å…³é”®è¯åŠ æƒæ£€ç´¢ |
| `mionyee_platform/knowledge/retrievers/confidence.py` | ~60 | ğŸŸ¡é«˜ | è´¨é‡åˆ†è¿‡æ»¤æ£€ç´¢ |
| `mionyee_platform/knowledge/retrievers/time_aware.py` | ~70 | ğŸŸ¡é«˜ | æ—¶é—´è¡°å‡æ£€ç´¢ |
| `mionyee_platform/memory/service.py` | ~350 | ğŸŸ¡é«˜ | ä¸‰å±‚è®°å¿†æ£€ç´¢ï¼ˆDB/å‘é‡/Hybridï¼‰ |
| `mionyee_platform/orchestration/reasoning_chain/service.py` | ~80 | ğŸŸ¢ä¸­ | æ¨ç†é“¾è®°å½• |
| `mionyee_platform/ai/governance/finops.py` | ~80 | ğŸŸ¢ä¸­ | FinOpsæˆæœ¬è¿½è¸ª |

### 7.3 mionyee-agent æ ¸å¿ƒæ–‡ä»¶

| æ–‡ä»¶ | è¡Œæ•° | é‡è¦æ€§ | å†…å®¹ |
|------|------|--------|------|
| `runtime/src/cli/run.ts` | 2379 | ğŸ”´æé«˜ | ä¸»è¿è¡Œå…¥å£ï¼ˆå®Œæ•´å¤šé˜¶æ®µè¿è¡Œå¾ªç¯ï¼‰ |
| `runtime/src/service/server.ts` | 938 | ğŸ”´æé«˜ | HTTPæœåŠ¡ï¼ˆå«è‚¡ç¥¨ç¼–æ’ç«¯ç‚¹ï¼‰ |
| `runtime/src/governance/hooks.ts` | - | ğŸ”´æé«˜ | beforeExecute/afterExecute æ²»ç†é’©å­ |
| `runtime/src/governance/platform_client.ts` | - | ğŸ”´æé«˜ | å¹³å°APIå®¢æˆ·ç«¯ |
| `runtime/src/tools/policy.ts` | - | ğŸŸ¡é«˜ | å·¥å…·é£æ§ç­–ç•¥ |
| `runtime/src/tools/tool-policy-profiles.ts` | - | ğŸŸ¡é«˜ | å·¥å…·Profileå®šä¹‰ |
| `runtime/src/sandbox/docker-args.ts` | - | ğŸŸ¡é«˜ | Dockeræ²™ç®±åŠ å›º |
| `runtime/src/events/types.ts` | - | ğŸŸ¡é«˜ | äº‹ä»¶ç±»å‹å®šä¹‰ |
| `runtime/src/orchestrator/stock_store.ts` | 51 | ğŸŸ¢ä¸­ | è‚¡ç¥¨ç¼–æ’å­˜å‚¨ï¼ˆMVPï¼‰ |
| `.cursor/rules/mionyee_agent_core.mdc` | - | ğŸ”´æé«˜ | Agentæ ¸å¿ƒè§„åˆ™ |
| `.cursor/rules/mionyee_agent_trading.mdc` | - | ğŸ”´æé«˜ | ç­–ç•¥é©±åŠ¨äº¤æ˜“æ¶æ„ |
| `.cursor/rules/mionyee_agent_principles.mdc` | - | ğŸ”´æé«˜ | æ ¸å¿ƒåŸåˆ™ |

---

## å…«ã€å†å²è®¨è®ºä¸­çš„å…³é”®çº å

### çº å1ï¼šä¸è¦åªçœ‹æ–‡æ¡£åç§°å°±ä¸‹ç»“è®º

> **yeemio**: "ä½ çœ‹åˆ°çš„éƒ½æ˜¯è¡¨è±¡ï¼Œèƒ½è·‘é€šå¹¶ä¸æ„å‘³ç€å¯ä»¥ç”¨... æˆ‘è¦æ±‚ä½ ä¸è¦é€šè¿‡æŸ¥çœ‹æ–‡æ¡£åç§°ï¼Œå°±çˆ½å¿«çš„ç»™å‡ºç­”æ¡ˆï¼Œè¿™ç§åšæ³•ä¸€ç‚¹éƒ½ä¸ä¸“ä¸šã€‚"

**æ•™è®­**: å¿…é¡»è¯»ä»£ç ï¼Œä¸èƒ½åªçœ‹ç›®å½•ç»“æ„å’Œæ–‡æ¡£æ ‡é¢˜ã€‚

### çº å2ï¼šä¸è¦è‡ªåœ†å…¶è¯´

> **yeemio**: "æˆ‘å°±çœ‹åˆ°äº†ä½ çš„å¤¸èµï¼Œä»ä¸“ä¸šçš„è§’åº¦è®²ï¼Œè¿™å‡ ç‚¹çœŸçš„å¥½å’Œé¢†å…ˆå—ï¼Ÿè¿˜æ˜¯è¯´åªæ˜¯æˆ‘ä»¬è‡ªåœ†å…¶è¯´ï¼Ÿ"

**æ•™è®­**: åˆ†æå¿…é¡»æœ‰å¤–éƒ¨å¯¹æ ‡ï¼Œä¸èƒ½åªçœ‹è‡ªå·±æœ‰ä»€ä¹ˆå°±å¤¸ä»€ä¹ˆã€‚

### çº å3ï¼šä¸è¦å¿½è§†ç”Ÿäº§ç³»ç»Ÿ

> **yeemio**: "ä½ æ²¡æœ‰æŒ‰ç…§æˆ‘çš„è¦æ±‚å»è¯»ä»£ç  mionyeeï¼Œä½ è¯´çš„è¿™äº›ï¼Œæˆ‘ä»¬éƒ½å®ç°äº†"

**æ•™è®­**: `D:\AI\mionyee` æ˜¯1164æ–‡ä»¶çš„ç”Ÿäº§ç³»ç»Ÿï¼Œä¸æ˜¯ä¸€ä¸ªç©ºå£³ã€‚ä»»ä½•åˆ†æå’Œå»ºè®®éƒ½å¿…é¡»åŸºäºå¯¹è¿™ä¸ªç³»ç»Ÿçš„å……åˆ†ç†è§£ã€‚ä¹‹å‰çœ‹çš„ mionyee-platform å’Œ mionyee-agent éƒ½æ˜¯åæ¥çš„è¡ç”Ÿç‰©ï¼Œæ ¸å¿ƒä»·å€¼åœ¨ mionyee æœ¬èº«ã€‚

### çº å4ï¼šä¸è¦ç”¨è¾¹ç¼˜ä»£ç ä»£æ›¿æ ¸å¿ƒé€»è¾‘

> **yeemio**: "ä½ ç°åœ¨è¯»ä¸€äº›æˆ‘ä»¬æµ‹è¯•ç”¨ä¾‹çš„è¾¹ç¼˜ä»£ç ï¼Œç®—ä¸ªå±å•Š"

**æ•™è®­**: è¯»ä»£ç è¦è¯»æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼ˆai_auto_trading_service.pyã€strategy_selection_service.pyã€task_handlers.pyï¼‰ï¼Œä¸æ˜¯è¯» observability æˆ– orchestrator çš„å°æ–‡ä»¶ã€‚

---

## ä¹ã€å¾…å†³äº‹é¡¹

### ~~9.1 OwlClaw å®šä½ï¼ˆå¾…è®¨è®ºï¼‰~~ â†’ âœ… å·²æ˜ç¡®ï¼ˆè§ç¬¬å…­ç« ï¼‰

- [x] ç¡®å®š OwlClaw çš„æ ¸å¿ƒä»·å€¼ä¸»å¼  â†’ **é¢å‘ä¸šåŠ¡åº”ç”¨çš„ Agent åº•åº§**
- [x] ç¡®å®šç›®æ ‡ç”¨æˆ·ç¾¤ä½“ â†’ **å·²æœ‰æˆç†Ÿä¸šåŠ¡åº”ç”¨ã€æƒ³è®©åº”ç”¨è·å¾—AIè‡ªä¸»èƒ½åŠ›çš„å›¢é˜Ÿ**
- [ ] ç¡®å®š OwlClaw çš„å¼€æºèŒƒå›´ï¼ˆä» platform+agent ä¸­æŠ½å–å“ªäº›èƒ½åŠ›ï¼‰
- [ ] è®¾è®¡ OwlClaw çš„æ¥å…¥åè®®ï¼ˆä¸šåŠ¡åº”ç”¨å¦‚ä½•æ³¨å†Œèƒ½åŠ›/ä»»åŠ¡ï¼‰

### 9.2 æ¶æ„è®¾è®¡ï¼ˆå¾…æ‰§è¡Œï¼‰

- [ ] OwlClaw çš„æ ¸å¿ƒæ¶æ„è®¾è®¡ï¼ˆAgentåº•åº§ = è‡ªä¸»è¿è¡Œæ—¶ + æ²»ç†å±‚ + çŸ¥è¯†å±‚ + è·¯ç”±å±‚ + è¿è¥å±‚ï¼‰
- [ ] ä¸šåŠ¡åº”ç”¨æ¥å…¥åè®®è®¾è®¡ï¼ˆSDK? API? é…ç½®?ï¼‰
- [ ] Agentå¦‚ä½•ç†è§£ä¸šåŠ¡åº”ç”¨çŠ¶æ€ï¼ˆæ¨é€? è½®è¯¢? äº‹ä»¶?ï¼‰
- [ ] è·¨è¯­è¨€æ”¯æŒæ–¹æ¡ˆï¼ˆPythonåº”ç”¨ â†” TypeScript/Python Agentåº•åº§ï¼‰
- [ ] OwlClaw æ ¸å¿ƒç”¨ä»€ä¹ˆè¯­è¨€ï¼Ÿ

### 9.3 MVP éªŒè¯ï¼ˆå¾…æ‰§è¡Œï¼‰

- [ ] å®šä¹‰ OwlClaw MVP çš„æœ€å°èƒ½åŠ›é›†
- [ ] mionyee æ¥å…¥ OwlClaw MVP çš„æœ€å°æ”¹åŠ¨æ–¹æ¡ˆ
- [ ] é€‰å– mionyee çš„å‡ ä¸ªå…¸å‹cronä»»åŠ¡ä½œä¸ºé¦–æ‰¹è¿ç§»ç›®æ ‡ï¼ˆå¦‚ `position_entry_monitor`ã€`morning_decision`ï¼‰
- [ ] éªŒè¯"Agentè‡ªä¸»è°ƒåº¦"ç›¸æ¯”"cronå›ºå®šè°ƒåº¦"çš„å®é™…æ•ˆæœå·®å¼‚

### 9.4 ä» mionyee ç”Ÿæ€ä¸­æŠ½å–çš„é€šç”¨æ¨¡å¼ï¼ˆå¾…æ¢³ç†ï¼‰

- [ ] æ²»ç†è–„è…°å¥‘çº¦ â†’ æ ‡å‡†åŒ–ä¸º OwlClaw æ ¸å¿ƒåè®®
- [ ] task_type è·¯ç”± â†’ æŠ½è±¡ä¸ºé€šç”¨è·¯ç”±æ¡†æ¶
- [ ] çŸ¥è¯†è’¸é¦å¾ªç¯ â†’ æŠ½è±¡ä¸ºé€šç”¨"ç»éªŒå­¦ä¹ "æ¡†æ¶
- [ ] PolicyController å››é‡å®ˆå« â†’ æ ‡å‡†åŒ–ä¸ºå¯é…ç½®çš„æ²»ç†å¥—ä»¶
- [ ] FinOps / RBAC / Audit â†’ æ ‡å‡†åŒ–ä¸ºè¿è¥å¥—ä»¶

---

## é™„å½•Aï¼šä»“åº“ç»Ÿè®¡å¯¹ç…§

| ç»´åº¦ | mionyee | mionyee-platform | mionyee-agent | owlclaw |
|------|---------|-----------------|---------------|---------|
| è¯­è¨€ | Python | Python | TypeScript | TBD |
| æ–‡ä»¶æ•° | 1164 .py | ~200+ .py | ~100+ .ts | ç©º |
| çŠ¶æ€ | ç”Ÿäº§è¿è¡Œ | å¯ç”¨ | åŸºç¡€è®¾æ–½å°±ç»ª | å¾…å®šä¹‰ |
| æ ¸å¿ƒèƒ½åŠ› | AIäº¤æ˜“å†³ç­–å…¨é“¾è·¯ | AIè·¯ç”±+æ²»ç†+çŸ¥è¯† | è‡ªä¸»è¿è¡Œæ—¶+æ²»ç†é’©å­ | å¾…å®šä¹‰ |
| è°ƒåº¦æ–¹å¼ | APScheduler cron | è¢«åŠ¨API | ä¸»åŠ¨è¿è¡Œå¾ªç¯(demo) | TBD |
| æ•°æ®åº“ | 80+ tables | å¹³å°è¡¨ | æ—  | TBD |
| ç‰ˆæœ¬è¿­ä»£ | v13.1.0+ | Phase 5 | MVP | v0 |

## é™„å½•Bï¼šå…³é”®æœ¯è¯­è¡¨

| æœ¯è¯­ | å«ä¹‰ |
|------|------|
| é»„é‡‘æ‰§è¡Œç‚¹ | AIåˆ¤æ–­çš„æœ€ä½³äº¤æ˜“æ—¶æœºï¼ˆåŸºäºæŠ€æœ¯é¢ã€èµ„é‡‘é¢ã€çŸ¥è¯†åº“ï¼‰ |
| åšT | T+0æ—¥å†…äº¤æ˜“ç­–ç•¥ï¼ˆå½“å¤©ä¹°å…¥å½“å¤©å–å‡ºï¼Œæˆ–åå‘ï¼‰ |
| è–„è…°å¥‘çº¦ | policy_tick â†’ ai/chat â†’ ledger_record çš„ä¸‰æ­¥APIåè®® |
| çŸ¥è¯†è’¸é¦ | ä»äº¤æ˜“ç»éªŒä¸­æå–å’Œæ²‰æ·€å¯å¤ç”¨çŸ¥è¯†çš„è¿‡ç¨‹ |
| ç­–ç•¥é©±åŠ¨æ¶æ„ | ç­–ç•¥æ˜¯äº¤æ˜“çš„å”¯ä¸€å…¥å£ï¼Œæ‰§è¡Œå±‚ä¸åŒºåˆ†ç­–ç•¥ç±»å‹ |
| AI_DECISION_FIRST | æ‰€æœ‰äº¤æ˜“å†³ç­–ç”±AIæ¨¡å‹åšå‡ºï¼Œç¦æ­¢ç¡¬ç¼–ç è§„åˆ™ |
| Plan Lock | äº¤æ˜“è®¡åˆ’é”å®šæœºåˆ¶ï¼ˆè®¢é˜…+åŒæ­¥+æ´¾ç”ŸTodoï¼‰ |
| ä¿¡å¿µåº¦è¯„ä¼° | ä½¿ç”¨åŒAIï¼ˆBull/Bearï¼‰è¾©è®ºæ¥è¯„ä¼°æŒä»“ä¿¡å¿µåº¦ |
| è§¦ç‚¹ | äº¤æ˜“æ¥è§¦ç‚¹äº‹ä»¶ï¼ˆå¦‚ä»·æ ¼è§¦è¾¾æŸé˜ˆå€¼ï¼‰ |
| çŸ¥è¯†è¡°å‡ | æ¯æœˆå¯¹è¿‡æ—¶çŸ¥è¯†è¿›è¡Œé™æƒæˆ–æ·˜æ±° |
| task_typeè·¯ç”± | æŒ‰AIä»»åŠ¡ç±»å‹ï¼ˆè€Œéæ¨¡å‹åç§°ï¼‰é€‰æ‹©æœ€åˆé€‚çš„LLMæ¨¡å‹ |
| ThresholdManager | åŠ¨æ€é˜ˆå€¼ç®¡ç†å™¨ï¼ˆå…è®¸è¿è¡Œæ—¶è°ƒæ•´è€Œéç¡¬ç¼–ç ï¼‰ |
| KnowledgeAwareDecisionMixin | çŸ¥è¯†æ„ŸçŸ¥å†³ç­–æ··å…¥ç±»ï¼Œè®©çŸ¥è¯†è¯„åˆ†å½±å“äº¤æ˜“å†³ç­– |
| Agent Holding | æ–°æ¶æ„ä¸‹Agentç®¡ç†çš„æŒä»“ï¼ˆåŒºåˆ«äºæ—§ç‰ˆUser Holdingï¼‰ |
| Agentåº•åº§ | OwlClawçš„æ ¸å¿ƒæ¦‚å¿µï¼šä¸ºä¸šåŠ¡åº”ç”¨æä¾›AIè‡ªä¸»èƒ½åŠ›çš„åŸºç¡€è®¾æ–½å±‚ |
| ä¸šåŠ¡åº”ç”¨å…¥å£ | åŒºåˆ«äºOpenClawçš„"å¯¹è¯å…¥å£"ï¼ŒOwlClawçš„å…¥å£æ˜¯ä¸šåŠ¡åº”ç”¨æ³¨å†Œè‡ªå·±çš„èƒ½åŠ›å’Œä»»åŠ¡ |

---

> **æ–‡æ¡£ç»´æŠ¤**: æœ¬æ–‡æ¡£åº”éšé¡¹ç›®è¿›å±•æŒç»­æ›´æ–°ã€‚ä¸‹ä¸€æ¬¡é‡å¤§è®¨è®ºæˆ–æ¶æ„å†³ç­–åï¼Œè¯·åœ¨å¯¹åº”ç« èŠ‚è¡¥å……ã€‚
