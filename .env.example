# OwlClaw local environment template
# Copy to `.env` and fill values as needed. `.env` is gitignored.

# =========================
# Required (baseline)
# =========================
# Required for integrations-hatchet tests and runtime.
HATCHET_API_TOKEN=
# Default gRPC URL for local hatchet-lite (deploy/docker-compose.lite.hatchet-only.yml).
HATCHET_SERVER_URL=http://localhost:17077

# Required DB URL for app/runtime paths that need OwlClaw DB.
DATABASE_URL=postgresql+asyncpg://owlclaw:owlclaw@localhost:5432/owlclaw
OWLCLAW_DATABASE_URL=postgresql+asyncpg://owlclaw:owlclaw@localhost:5432/owlclaw
# Optional host port mapping for docker-compose.{test,minimal,dev}. Use 15432 if 5432 is occupied.
OWLCLAW_PG_PORT=5432
# Optional Redis port mapping for docker-compose.dev.yml.
OWLCLAW_REDIS_PORT=6379
# Optional Langfuse web port mapping for docker-compose.dev.yml.
OWLCLAW_LANGFUSE_PORT=3000

# =========================
# Hatchet (optional overrides)
# =========================
# OWLCLAW_INTEGRATIONS__HATCHET__SERVER_URL=http://localhost:17077
# OWLCLAW_INTEGRATIONS__HATCHET__API_TOKEN=

# =========================
# Langfuse (optional)
# =========================
# Local default host for self-hosted Langfuse.
LANGFUSE_HOST=http://localhost:3000
LANGFUSE_PUBLIC_KEY=
LANGFUSE_SECRET_KEY=

# =========================
# Redis (optional, queue idempotency)
# =========================
REDIS_URL=redis://localhost:6379/0

# =========================
# Queue trigger providers (optional)
# =========================
KAFKA_BOOTSTRAP_SERVERS=localhost:9092
KAFKA_TOPIC=agent-events
KAFKA_CONSUMER_GROUP=owlclaw-agents
KAFKA_DLQ_TOPIC=agent-events.dlq
KAFKA_SECURITY_PROTOCOL=PLAINTEXT
KAFKA_SASL_MECHANISM=
KAFKA_USERNAME=
KAFKA_PASSWORD=

RABBITMQ_URL=amqp://guest:guest@localhost:5672/
RABBITMQ_QUEUE=agent-events
RABBITMQ_EXCHANGE=
RABBITMQ_ROUTING_KEY=
RABBITMQ_DLQ_QUEUE=agent-events.dlq

AWS_REGION=us-east-1
SQS_QUEUE_URL=
SQS_DLQ_URL=
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_SESSION_TOKEN=

# =========================
# Optional admin/bootstrap
# =========================
# Used by `owlclaw db init`.
OWLCLAW_ADMIN_URL=postgresql://postgres:postgres@localhost:5432/postgres
# Optional config file path override.
OWLCLAW_CONFIG=

# =========================
# Webhook trigger (optional overrides)
# =========================
OWLCLAW_WEBHOOK_TIMEOUT_SECONDS=
OWLCLAW_WEBHOOK_MAX_RETRIES=
OWLCLAW_WEBHOOK_LOG_LEVEL=

# =========================
# Memory backend (optional)
# =========================
OWLCLAW_QDRANT_URL=
OWLCLAW_QDRANT_COLLECTION=

# =========================
# Hatchet gRPC advanced (optional)
# =========================
HATCHET_GRPC_TLS_STRATEGY=
HATCHET_GRPC_HOST_PORT=

# =========================
# OwlHub API (optional)
# =========================
OWLHUB_LOG_LEVEL=INFO
OWLHUB_INDEX_PATH=./index.json
OWLHUB_REVIEW_DIR=./.owlhub/reviews
OWLHUB_AUDIT_LOG=./.owlhub/audit.log.jsonl
OWLHUB_STATISTICS_DB=./.owlhub/skill_statistics.json
OWLHUB_BLACKLIST_DB=./.owlhub/blacklist.json
OWLHUB_AUTH_SECRET=
OWLHUB_CSRF_TOKEN=

# =========================
# Optional app/runtime toggles
# =========================
# OWLCLAW_TRIGGERS__CRON__ENABLED=true
# OWLCLAW_TRIGGERS__CRON__MAX_CONCURRENT=20
# OWLCLAW_TRIGGERS__GOVERNANCE__MAX_DAILY_RUNS=48
# OWLCLAW_TRIGGERS__RETRY__MAX_RETRIES=3
# OWLCLAW_LANGCHAIN_ENABLED=true
# OWLCLAW_LANGCHAIN_TIMEOUT=30
# OWLCLAW_LANGCHAIN_TRACING_ENABLED=true
AGENT_RUNTIME_URL=http://localhost:8000
